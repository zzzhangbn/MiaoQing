<template>
  <div class="zuida_box">
    <div class="tianqichajian_box" align="center">
      <iframe
        width="1000"
        height="100"
        frameborder="0"
        scrolling="no"
        hspace="0"
        src="https://i.tianqi.com/?c=code&a=getcode&id=39&num=5&icon=1&num=5&site=13"
      ></iframe>
    </div>
    <div class="select_box" align="center">
      <div class="qixiang_head">
        <span class="svg_echarts">气象数据查询</span>
        <span
          ><svg
            t="1632797976447"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="1839"
            width="50"
            height="50"
          >
            <path
              d="M372.5312 1005.1072s-64.1024-140.6976 162.9696-432.7936c224.9216-289.3312 105.4208-500.2752 105.4208-500.2752s149.76 209.92-58.9824 479.8976c-285.5936 369.664-199.2704 437.9648-209.408 453.1712z"
              fill="#8E9340"
              p-id="1840"
            ></path>
            <path
              d="M372.5312 1005.1072s-64.1024-140.6976 162.9696-432.7936c224.9216-289.3312 105.4208-500.2752 105.4208-500.2752s149.76 209.92-58.9824 479.8976c-285.5936 369.664-199.2704 437.9648-209.408 453.1712z"
              fill="#8E9340"
              p-id="1841"
            ></path>
            <path
              d="M420.6592 32.256s13.4656 20.48 12.5952 32.5632S419.84 86.2208 419.84 86.2208a48.128 48.128 0 0 1-10.24-23.0912c-1.4848-11.264 11.0592-30.8736 11.0592-30.8736zM350.8736 84.1728s23.552-8.6016 35.84-4.7616S404.48 98.2016 404.48 98.2016a49.5616 49.5616 0 0 1-25.6 5.12c-11.4176-1.8432-28.0064-19.1488-28.0064-19.1488zM367.5136 117.4528s28.4672-7.8336 43.5712-3.0208 23.3472 21.0944 23.3472 21.0944a65.3312 65.3312 0 0 1-31.2832 3.7888c-14.0288-2.4064-35.6352-21.8624-35.6352-21.8624zM390.6048 150.1184s33.6384-2.1504 49.408 6.7072 21.248 29.0304 21.248 29.0304a74.5984 74.5984 0 0 1-35.84-3.0208c-15.4112-6.0416-34.816-32.7168-34.816-32.7168zM405.9136 193.1264s33.6384-2.1504 49.408 6.7072 21.248 29.0304 21.248 29.0304a74.5984 74.5984 0 0 1-35.84-3.0208c-15.4112-5.9904-34.816-32.7168-34.816-32.7168zM427.9296 237.0048s33.6384-2.1504 49.408 6.7072 21.248 29.0304 21.248 29.0304a74.5984 74.5984 0 0 1-35.84-3.0208c-15.36-5.9904-34.816-32.7168-34.816-32.7168zM438.016 278.8864S476.16 283.648 491.8272 296.96s17.5616 36.9664 17.5616 36.9664a84.8896 84.8896 0 0 1-39.424-11.008c-15.9232-10.0864-31.9488-44.032-31.9488-44.032zM448.768 332.4928s36.4032 12.0832 49.2544 28.16 10.24 39.68 10.24 39.68a84.8896 84.8896 0 0 1-36.5056-18.4832c-13.8752-12.9024-22.9888-49.3568-22.9888-49.3568zM441.7024 380.416s38.0928 12.6464 51.5072 29.44 10.24 41.5232 10.24 41.5232a88.7808 88.7808 0 0 1-38.1952-19.3536c-14.0288-13.5168-23.552-51.6096-23.552-51.6096zM437.8624 434.176s34.6112 20.48 44.2368 39.5776 1.5872 42.752 1.5872 42.752A88.7808 88.7808 0 0 1 450.56 489.6256c-11.3664-16.1792-12.6976-55.4496-12.6976-55.4496zM350.5664 11.8272s29.9008 10.752 38.5536 24.32 2.3552 33.024 2.3552 33.024a62.7712 62.7712 0 0 1-28.928-16.0768c-9.8816-10.9568-11.9808-41.2672-11.9808-41.2672zM456.7552 63.8464S466.8928 87.04 465.92 101.888a64.3584 64.3584 0 0 1-10.24 28.3648 59.2384 59.2384 0 0 1-12.9024-28.416c-1.4848-13.8752 13.9776-37.9904 13.9776-37.9904zM534.0672 134.8608s3.3792 31.0784-3.5328 48.64a80.2304 80.2304 0 0 1-22.8864 29.8496 73.8304 73.8304 0 0 1-4.6592-38.656c3.6352-16.9472 31.0784-39.8336 31.0784-39.8336zM558.08 183.4496s3.6864 33.8944-3.8912 53.0944a87.6032 87.6032 0 0 1-24.9856 32.5632s-9.4208-22.016-5.12-42.1888c4.1472-18.4832 33.9968-43.4688 33.9968-43.4688zM584.0384 242.432s-1.1776 33.9456-11.4176 51.7632a87.04 87.04 0 0 1-29.2864 28.3648s-6.144-23.04 1.024-42.2912c6.6048-17.5104 39.68-37.8368 39.68-37.8368zM603.648 294.8608s-5.7344 40.96-20.48 60.928a105.6256 105.6256 0 0 1-38.8608 30.72s-4.4544-28.5184 6.6048-50.7904c10.2912-20.5312 52.736-40.8576 52.736-40.8576zM600.5248 439.1936s-17.7664 37.12-37.7344 51.968a105.6256 105.6256 0 0 1-46.08 17.5104s4.352-28.5184 21.6064-46.4384c15.616-16.4864 62.208-23.04 62.208-23.04zM617.1648 365.2096s-14.08 41.9328-33.4848 60.416a113.6128 113.6128 0 0 1-47.104 24.9344s0.9216-31.0272 16.9472-52.4288c14.7968-19.8656 63.6416-32.9216 63.6416-32.9216zM494.2848 92.16s13.824 31.6416 7.8848 46.4384c-5.12 12.8512-21.504 22.1184-21.504 22.1184a62.3104 62.3104 0 0 1-8.0896-31.8464c1.2288-14.7456 21.7088-36.7104 21.7088-36.7104z"
              fill="#E89724"
              p-id="1842"
            ></path>
            <path
              d="M320.9728 989.184s-46.3872-95.3856 21.0432-232.7552c31.1296-63.4368 97.28-119.5008 140.5952-228.352 103.3728-260.352-84.1216-448.768-84.1216-448.768S640 286.72 476.8768 586.3424c-34.2528 62.8736-118.1184 157.1328-143.36 226.6624-35.6352 99.6864-6.5536 167.2192-12.544 176.1792zM796.3648 121.7024s2.816 24.1664-3.5328 34.7648-21.8624 12.9024-21.8624 12.9024a48.128 48.128 0 0 1 1.1264-25.344c4.1472-10.5472 24.2688-22.3232 24.2688-22.3232zM710.6048 136.3456s24.8832 3.0208 33.8944 11.9296 7.6288 24.9856 7.6288 24.9856a49.5616 49.5616 0 0 1-25.088-7.2704c-9.472-6.7072-16.4352-29.6448-16.4352-29.6448zM710.3488 173.568s28.928 5.9392 40.192 17.0496 11.264 29.44 11.264 29.44a65.3312 65.3312 0 0 1-29.6448-10.8032c-11.5712-8.6528-21.8112-35.6864-21.8112-35.6864zM716.1344 213.1456s30.72 13.3632 40.96 28.416 5.7856 35.4816 5.7856 35.4816a74.5984 74.5984 0 0 1-30.72-18.944c-10.8544-12.3392-16.0256-44.9536-16.0256-44.9536zM710.1952 258.4064s30.72 13.3632 40.96 28.416 5.7856 35.7376 5.7856 35.7376a74.5984 74.5984 0 0 1-30.72-18.944c-10.8032-12.5952-16.0256-45.2096-16.0256-45.2096zM709.9392 307.5072s30.72 13.3632 40.96 28.416 5.7344 35.4816 5.7344 35.4816a74.5984 74.5984 0 0 1-30.72-18.944c-10.752-12.3392-15.9744-44.9536-15.9744-44.9536zM699.904 349.3888s31.7952 21.504 39.7824 40.448-1.0752 40.96-1.0752 40.96a84.8896 84.8896 0 0 1-30.1568-27.6992c-9.6256-16.1792-8.5504-53.7088-8.5504-53.7088zM688.2816 398.4384s26.9824 27.2896 31.1296 47.4624-9.0624 39.8848-9.0624 39.8848a84.8896 84.8896 0 0 1-24.2688-33.024c-6.2464-17.5616 2.2016-54.3232 2.2016-54.3232zM651.1616 437.9136s28.2112 28.5696 32.5632 49.6128-9.472 41.728-9.472 41.728a88.7808 88.7808 0 0 1-25.2416-34.56c-6.656-18.5344 2.1504-56.7808 2.1504-56.7808zM628.4288 490.0352s24.1152 32.0512 25.6 53.5552-15.0016 40.0896-15.0016 40.0896a88.7808 88.7808 0 0 1-20.48-37.632c-4.1472-19.2512 9.8816-56.0128 9.8816-56.0128zM743.168 71.68s21.76 23.1424 23.296 39.168-12.8512 30.72-12.8512 30.72a62.7712 62.7712 0 0 1-18.4832-27.4432c-3.8912-14.4384 8.0384-42.4448 8.0384-42.4448zM814.08 166.2464s-1.3824 25.0368-9.216 38.0416a64.3584 64.3584 0 0 1-22.016 20.48 59.2384 59.2384 0 0 1 1.3824-31.1808c5.2224-12.8512 29.8496-27.3408 29.8496-27.3408zM850.8416 264.6528s-11.0592 29.2352-25.2416 41.728a80.2304 80.2304 0 0 1-33.8944 16.1792 73.8304 73.8304 0 0 1 13.3632-36.5568c10.9568-13.4144 45.7728-21.3504 45.7728-21.3504zM850.3296 318.8736s-12.0832 31.8976-27.5456 45.568a87.6032 87.6032 0 0 1-37.0176 17.7152s1.5872-23.8592 14.592-39.8848c11.9296-14.592 49.9712-23.3984 49.9712-23.3984zM846.592 383.1296s-16.4864 29.696-33.6384 40.96a87.04 87.04 0 0 1-39.0144 12.1344s5.12-23.296 20.0704-37.2224c13.8752-12.7488 52.5824-15.872 52.5824-15.872zM840.2944 438.784s-23.6032 33.6896-45.7216 45.1072a105.6256 105.6256 0 0 1-48.5376 9.6768s8.96-27.4432 28.928-42.2912c18.2784-13.6704 65.3312-12.4928 65.3312-12.4928zM772.0448 566.016s-32.6656 25.0368-57.1904 29.184a105.6256 105.6256 0 0 1-49.2032-5.4272s16.8448-23.4496 40.3456-31.5904c21.6064-7.4752 66.048 7.8336 66.048 7.8336zM813.056 514.304s-31.6928 28.2112-56.576 34.3552a108.9024 108.9024 0 0 1-51.2-1.8432s15.36-25.6 39.0656-35.5328c21.8112-9.5232 68.7104 3.0208 68.7104 3.0208zM834.8672 208.384s-2.048 34.4576-14.0288 44.9536c-10.24 9.1136-29.184 9.984-29.184 9.984a62.3104 62.3104 0 0 1 7.0656-32.0512c7.8336-12.4928 36.1472-22.8864 36.1472-22.8864z"
              fill="#E89724"
              p-id="1843"
            ></path>
            <path
              d="M273.4592 929.3312s1.9456-106.0352 124.3648-197.888c56.32-42.3936 141.0048-62.3104 228.864-139.7248C836.9152 406.5792 755.3024 153.6 755.3024 153.6s121.2928 294.1952-160.2048 487.424c-59.0336 40.4992-176.5376 86.4768-230.4 137.0624-77.1584 72.6528-81.8688 145.9712-91.2384 151.2448z"
              fill="#E89724"
              p-id="1844"
            ></path></svg
        ></span>
      </div>
      <el-select v-model="cityType" clearable placeholder="城市">
        <el-option
          v-for="item in cities"
          :key="item.value"
          :label="item.label"
          :value="item.value"
        >
        </el-option>
      </el-select>

      <el-select
        v-model="yearType"
        clearable
        collapse-tags
        style="margin-left: 20px"
        placeholder="年份"
      >
        <el-option
          v-for="item in years"
          :key="item.value"
          :label="item.label"
          :value="item.value"
        >
        </el-option>
      </el-select>
      <el-select
        v-model="monthType"
        clearable
        collapse-tags
        style="margin-left: 20px"
        placeholder="月份"
      >
        <el-option
          v-for="item in months"
          :key="item.value"
          :label="item.label"
          :value="item.value"
        >
        </el-option>
      </el-select>
      <span class="chaxun">
        <el-button type="primary" @click="searchInfo">查询</el-button>
      </span>
      <div class="date_select">
        <span class="chengshixuanze">
          <el-select v-model="cityTypes" clearable placeholder="城市">
            <el-option
              v-for="item in citiess"
              :key="item.value"
              :label="item.label"
              :value="item.value"
            >
            </el-option>
          </el-select>
        </span>
        <span class="date_range">
          <el-date-picker
            v-model="daterange"
            type="daterange"
            range-separator="至"
            start-placeholder="开始日期"
            end-placeholder="结束日期"
            value-format="yyyy-MM-dd"
          >
            >
          </el-date-picker>
        </span>
        <span class="datechaxun">
          <el-button type="primary" @click="datesearchInfo">查询</el-button>
        </span>
      </div>

      <div class="pingjun_weather_show" align="center">
        <el-row :gutter="0" type="flex">
          <el-col :span="2.1">
            <el-card shadow="always"
              ><svg
                t="1633916337499"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="2357"
                width="30"
                height="30"
              >
                <path
                  d="M576.5 559.7V145c0-37.4-30.6-67.9-67.9-67.9s-67.9 30.6-67.9 67.9v412.7C362.1 584.9 305.6 659.3 305.6 747c0 110.6 89.7 200.3 200.3 200.3S706.2 857.6 706.2 747c0-85.7-53.9-158.7-129.7-187.3z"
                  fill="#FF7E45"
                  p-id="2358"
                ></path>
                <path
                  d="M505.9 959.6c-65.5 0-126.3-29.5-166.9-80.9-4.2-5.3-3.3-13 2-17.2 5.3-4.2 13-3.2 17.2 2 35.9 45.5 89.8 71.6 147.7 71.6C609.6 935.1 694 850.7 694 747c0-77.7-49-148.4-121.8-175.8-4.8-1.8-7.9-6.4-7.9-11.4V145c0-30.7-25-55.7-55.7-55.7-30.7 0-55.7 25-55.7 55.7v28.1c0 6.8-5.5 12.2-12.2 12.2-6.8 0-12.2-5.5-12.2-12.2V145c0-44.2 36-80.2 80.2-80.2s80.2 36 80.2 80.2v406.4C666.7 584.5 718.5 662 718.5 747c0 117.2-95.4 212.6-212.6 212.6z"
                  fill="#54686B"
                  p-id="2359"
                ></path>
                <path
                  d="M525.4 271.9h-65.3c-6.8 0-12.2-5.5-12.2-12.2 0-6.8 5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2 0 6.8-5.4 12.2-12.2 12.2zM525.4 324.6h-65.3c-6.8 0-12.2-5.5-12.2-12.2 0-6.8 5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2 0 6.7-5.4 12.2-12.2 12.2zM525.4 377.3h-65.3c-6.8 0-12.2-5.5-12.2-12.2 0-6.8 5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2 0 6.7-5.4 12.2-12.2 12.2zM525.4 429.9h-65.3c-6.8 0-12.2-5.5-12.2-12.2 0-6.8 5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2 0 6.7-5.4 12.2-12.2 12.2zM525.4 482.6h-65.3c-6.8 0-12.2-5.5-12.2-12.2 0-6.8 5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2 0 6.7-5.4 12.2-12.2 12.2zM525.4 535.2h-65.3c-6.8 0-12.2-5.5-12.2-12.2 0-6.8 5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2 0 6.8-5.4 12.2-12.2 12.2z"
                  fill="#FFFFFF"
                  p-id="2360"
                ></path>
              </svg>
              平均高温：{{ gaowen_mean }}℃
            </el-card>
          </el-col>
          <el-col :span="2.1">
            <el-card shadow="always"
              ><svg
                t="1633916607415"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="2848"
                width="30"
                height="30"
              >
                <path
                  d="M575.6 559.3V144.1c0-37.4-30.6-68-68-68s-68 30.6-68 68v413.2C361 584.4 304.4 658.9 304.4 746.7c0 110.8 89.8 200.6 200.6 200.6s200.6-89.8 200.6-200.6c-0.1-85.8-54.2-158.8-130-187.4z"
                  fill="#ACE0F9"
                  p-id="2849"
                ></path>
                <path
                  d="M504.9 959.6c-65.5 0-126.5-29.5-167.1-81-4.2-5.3-3.3-13 2-17.2 5.3-4.2 13-3.3 17.2 2 36 45.6 89.9 71.7 147.9 71.7 103.8 0 188.3-84.5 188.3-188.3 0-77.8-49-148.5-121.9-176-4.8-1.8-7.9-6.4-7.9-11.5V144.1c0-30.7-25-55.8-55.8-55.8-30.8 0-55.8 25-55.8 55.8v28.2c0 6.8-5.5 12.2-12.2 12.2s-12.2-5.5-12.2-12.2v-28.2c0-44.3 36-80.3 80.3-80.3s80.3 36 80.3 80.3V551c78 33.1 129.9 110.7 129.9 195.8-0.2 117.3-95.6 212.8-213 212.8z"
                  fill="#54686B"
                  p-id="2850"
                ></path>
                <path
                  d="M524.4 271.2h-65.3c-6.8 0-12.2-5.5-12.2-12.2s5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2s-5.4 12.2-12.2 12.2zM524.4 323.9h-65.3c-6.8 0-12.2-5.5-12.2-12.2s5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2s-5.4 12.2-12.2 12.2zM524.4 376.6h-65.3c-6.8 0-12.2-5.5-12.2-12.2s5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2s-5.4 12.2-12.2 12.2zM524.4 429.3h-65.3c-6.8 0-12.2-5.5-12.2-12.2s5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2s-5.4 12.2-12.2 12.2zM524.4 482h-65.3c-6.8 0-12.2-5.5-12.2-12.2s5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2s-5.4 12.2-12.2 12.2zM524.4 534.7h-65.3c-6.8 0-12.2-5.5-12.2-12.2 0-6.8 5.5-12.2 12.2-12.2h65.3c6.8 0 12.2 5.5 12.2 12.2 0.1 6.8-5.4 12.2-12.2 12.2z"
                  fill="#B1B2B2"
                  p-id="2851"
                ></path>
              </svg>
              平均低温：{{ diwen_mean }}℃
            </el-card>
          </el-col>
          <el-col :span="2.1">
            <el-card shadow="always"
              ><svg
                t="1633916885235"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="4398"
                width="30"
                height="30"
              >
                <path
                  d="M277.634921 1002.664992A127.522816 127.522816 0 0 1 186.547195 785.840484l6.072515-6.191584V109.886208a85.015211 85.015211 0 1 1 170.030422 0v669.762692l6.072515 6.191584a127.522816 127.522816 0 0 1-91.087726 216.824508z"
                  fill="#F5F7FA"
                  p-id="4399"
                ></path>
                <path
                  d="M233.341282 449.947052A21.313337 21.313337 0 1 1 212.147014 428.752784a21.313337 21.313337 0 0 1 21.194268 21.194268zM364.436166 449.947052A21.313337 21.313337 0 1 1 343.122829 428.752784a21.313337 21.313337 0 0 1 21.313337 21.194268z"
                  fill="#434A54"
                  p-id="4400"
                ></path>
                <path
                  d="M277.634921 917.649781a42.507605 42.507605 0 1 1 42.507606-42.507605 42.507605 42.507605 0 0 1-42.507606 42.507605z"
                  fill="#ED5564"
                  p-id="4401"
                ></path>
                <path
                  d="M277.634921 811.321233a63.820943 63.820943 0 1 0 63.701874 63.820943 63.820943 63.820943 0 0 0-63.701874-63.820943z m0 85.015211a21.313337 21.313337 0 1 1 21.194269-21.194268A21.313337 21.313337 0 0 1 277.634921 896.574582z"
                  fill="#DA4453"
                  p-id="4402"
                ></path>
                <path
                  d="M277.634921 853.828839a21.313337 21.313337 0 0 1-21.313337-21.194269v-595.344614a21.313337 21.313337 0 1 1 42.507606 0v595.344614a21.194268 21.194268 0 0 1-21.194269 21.194269z"
                  fill="#DA4453"
                  p-id="4403"
                ></path>
                <path
                  d="M383.844401 770.956868V109.886208a106.328548 106.328548 0 1 0-212.538028 0v661.07066a148.836154 148.836154 0 1 0 212.538028 0zM277.634921 981.351655A106.209479 106.209479 0 0 1 201.668949 801.319444l11.906892-11.906893V110.719691a63.820943 63.820943 0 1 1 127.522816 0v678.69286l11.906893 11.906893a106.209479 106.209479 0 0 1-75.370629 180.032211z"
                  fill="#E6E9ED"
                  p-id="4404"
                ></path>
                <path
                  d="M660.203371 281.464526a21.194268 21.194268 0 0 0-21.194269 21.194269v42.507605a21.313337 21.313337 0 1 0 42.507606 0v-42.507605a21.313337 21.313337 0 0 0-21.313337-21.194269zM660.203371 664.032976a21.313337 21.313337 0 0 0-21.194269 21.313337v42.507605a21.313337 21.313337 0 0 0 42.507606 0v-42.507605a21.313337 21.313337 0 0 0-21.313337-21.313337z"
                  fill="#F6BB42"
                  p-id="4405"
                ></path>
                <path
                  d="M494.935706 349.929157a21.313337 21.313337 0 0 0 0 30.124438l30.005368 30.005368a21.313337 21.313337 0 0 0 30.124438-30.005368l-30.124438-30.124438a21.075199 21.075199 0 0 0-30.005368 0zM765.460298 620.45375a21.313337 21.313337 0 0 0 0 30.124437L795.584736 680.583556a21.313337 21.313337 0 1 0 30.124437-30.005369L795.584736 620.45375a21.313337 21.313337 0 0 0-30.124438 0z"
                  fill="#FFCE54"
                  p-id="4406"
                ></path>
                <path
                  d="M426.471075 515.554029a21.313337 21.313337 0 0 0 21.313337 21.194268h42.507606a21.313337 21.313337 0 1 0 0-42.507605h-42.626675A21.313337 21.313337 0 0 0 426.471075 515.554029zM809.039524 515.554029a21.313337 21.313337 0 0 0 21.313337 21.194268h42.507606a21.313337 21.313337 0 0 0 0-42.507605h-42.507606A21.313337 21.313337 0 0 0 809.039524 515.554029z"
                  fill="#F6BB42"
                  p-id="4407"
                ></path>
                <path
                  d="M494.935706 680.583556a21.075199 21.075199 0 0 0 30.005368 0l30.124438-30.005369a21.313337 21.313337 0 0 0 0-30.124437 21.432406 21.432406 0 0 0-30.124438 0l-30.005368 30.124437a21.075199 21.075199 0 0 0 0 30.005369zM765.460298 410.058963a21.075199 21.075199 0 0 0 30.005369 0l30.124438-30.005368A21.313337 21.313337 0 0 0 795.584736 349.929157l-30.005369 30.124438a21.075199 21.075199 0 0 0-0.119069 30.005368zM660.203371 621.52537a106.328548 106.328548 0 1 1 106.328548-105.971341 106.328548 106.328548 0 0 1-106.328548 105.971341z"
                  fill="#FFCE54"
                  p-id="4408"
                ></path>
                <path
                  d="M660.203371 387.793074A127.522816 127.522816 0 1 0 787.845256 515.554029a127.522816 127.522816 0 0 0-127.641885-127.760955z m0 212.538028A85.13428 85.13428 0 1 1 745.218582 515.554029a85.253349 85.253349 0 0 1-85.015211 84.777073z"
                  fill="#F6BB42"
                  p-id="4409"
                ></path>
              </svg>
              极端高温：{{ max_gaowen }}℃
            </el-card>
          </el-col>
          <el-col :span="2.1">
            <el-card shadow="always"
              ><svg
                t="1633916981826"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="4897"
                width="30"
                height="30"
              >
                <path
                  d="M837.307891 621.287232a20.241717 20.241717 0 0 1-10.597134-2.857654L532.134242 448.399156a21.313337 21.313337 0 0 1 21.313337-36.792297L848.024095 581.637281a21.313337 21.313337 0 0 1 7.73948 29.171886 21.075199 21.075199 0 0 1-18.455684 10.478065z"
                  fill="#4A89DC"
                  p-id="4898"
                ></path>
                <path
                  d="M597.979356 483.167282A21.075199 21.075199 0 0 1 577.499502 467.92646l-15.598029-58.105635a21.313337 21.313337 0 1 1 41.078778-11.07341L618.57828 456.019567a21.313337 21.313337 0 0 1-15.121753 26.076094 21.670544 21.670544 0 0 1-5.477171 1.071621z"
                  fill="#4A89DC"
                  p-id="4899"
                ></path>
                <path
                  d="M539.635584 498.765311a21.313337 21.313337 0 0 1-5.47717-41.793192l58.105634-15.598029a21.313337 21.313337 0 1 1 10.954341 41.078778l-57.986565 15.598029a22.504026 22.504026 0 0 1-5.59624 0.714414zM797.65794 647.482395A21.075199 21.075199 0 0 1 777.77343 631.765297l-15.598029-58.105634a21.313337 21.313337 0 0 1 40.483434-10.478065l15.598029 58.105634a20.95613 20.95613 0 0 1-20.598924 26.671439z"
                  fill="#4A89DC"
                  p-id="4900"
                ></path>
                <path
                  d="M782.059911 589.49583a21.313337 21.313337 0 0 1-5.47717-41.793192l58.105634-15.598029a21.313337 21.313337 0 1 1 10.954341 41.078778l-57.986565 15.47896a18.217545 18.217545 0 0 1-5.59624 0.833483zM542.850445 621.287232a21.313337 21.313337 0 0 1-10.716203-39.649951l294.576515-170.030422a21.313337 21.313337 0 1 1 21.313338 36.792297L553.447579 618.429578a20.241717 20.241717 0 0 1-10.597134 2.857654z"
                  fill="#4A89DC"
                  p-id="4901"
                ></path>
                <path
                  d="M597.979356 589.49583a17.503132 17.503132 0 0 1-5.47717-0.833483l-58.105634-15.47896a21.313337 21.313337 0 0 1 11.073409-41.078778l57.986566 15.598029a21.194268 21.194268 0 0 1 15.121753 25.957025 21.432406 21.432406 0 0 1-20.598924 15.836167z"
                  fill="#4A89DC"
                  p-id="4902"
                ></path>
                <path
                  d="M582.500397 647.482395a22.384958 22.384958 0 0 1-5.59624 0 21.432406 21.432406 0 0 1-15.002684-26.076094L577.499502 563.181598a21.313337 21.313337 0 0 1 41.078778 10.954341l-15.598029 58.105634a21.075199 21.075199 0 0 1-20.479854 15.240822zM840.165546 498.765311a21.670544 21.670544 0 0 1-5.477171-0.714414l-58.105634-15.598029a21.313337 21.313337 0 0 1 11.07341-41.078778l57.986565 15.598029a21.194268 21.194268 0 0 1 15.47896 25.957025 21.432406 21.432406 0 0 1-20.95613 15.836167z"
                  fill="#4A89DC"
                  p-id="4903"
                ></path>
                <path
                  d="M782.059911 483.167282a22.384958 22.384958 0 0 1-5.47717-0.714414A21.313337 21.313337 0 0 1 761.580057 456.019567L777.77343 398.27114a21.194268 21.194268 0 0 1 25.957025-15.002685 21.432406 21.432406 0 0 1 15.121753 26.076095L802.658835 467.92646a21.194268 21.194268 0 0 1-20.598924 15.240822z"
                  fill="#4A89DC"
                  p-id="4904"
                ></path>
                <path
                  d="M690.019634 706.064305a21.313337 21.313337 0 0 1-21.194268-21.313337V345.047331a21.313337 21.313337 0 1 1 42.507605 0v340.060844A21.313337 21.313337 0 0 1 690.019634 706.064305z"
                  fill="#5D9CEC"
                  p-id="4905"
                ></path>
                <path
                  d="M690.019634 430.062542a21.313337 21.313337 0 0 1-15.002684-35.720677l42.507605-42.507605a21.313337 21.313337 0 0 1 30.124438 30.005368l-42.507606 41.912261a21.432406 21.432406 0 0 1-15.121753 6.310653z"
                  fill="#5D9CEC"
                  p-id="4906"
                ></path>
                <path
                  d="M690.019634 430.062542a21.313337 21.313337 0 0 1-15.002684-6.310653l-42.507606-42.507605a21.313337 21.313337 0 0 1 30.124438-30.005369l42.507605 42.507606a21.313337 21.313337 0 0 1-15.121753 35.720677zM647.512028 685.108175a21.313337 21.313337 0 0 1-15.002684-36.316022l42.507606-42.507605a21.313337 21.313337 0 0 1 30.124437 0 21.432406 21.432406 0 0 1 0 30.124437l-42.507605 42.507606a21.313337 21.313337 0 0 1-15.121754 6.191584z"
                  fill="#5D9CEC"
                  p-id="4907"
                ></path>
                <path
                  d="M732.527239 685.108175a21.194268 21.194268 0 0 1-15.002684-6.191584l-42.507605-42.507606a21.313337 21.313337 0 0 1 30.124437-30.124437l42.507606 42.507605a21.432406 21.432406 0 0 1 0 30.124438 21.313337 21.313337 0 0 1-15.121754 6.191584z"
                  fill="#5D9CEC"
                  p-id="4908"
                ></path>
                <path
                  d="M307.451185 1002.664992A127.522816 127.522816 0 0 1 216.363459 785.840484l6.072515-6.191584V109.886208a85.015211 85.015211 0 1 1 170.030422 0v669.762692l6.072515 6.191584a127.522816 127.522816 0 0 1-91.087726 216.824508z"
                  fill="#F5F7FA"
                  p-id="4909"
                ></path>
                <path
                  d="M263.157545 449.947052A21.313337 21.313337 0 1 1 241.963277 428.752784a21.313337 21.313337 0 0 1 21.194268 21.194268zM394.252429 449.947052A21.313337 21.313337 0 1 1 372.939092 428.752784a21.313337 21.313337 0 0 1 21.313337 21.194268z"
                  fill="#434A54"
                  p-id="4910"
                ></path>
                <path
                  d="M307.451185 917.649781a42.507605 42.507605 0 1 1 42.507605-42.507605 42.507605 42.507605 0 0 1-42.507605 42.507605z"
                  fill="#ED5564"
                  p-id="4911"
                ></path>
                <path
                  d="M307.451185 811.321233a63.820943 63.820943 0 1 0 63.701873 63.820943 63.820943 63.820943 0 0 0-63.701873-63.820943z m0 85.015211a21.313337 21.313337 0 1 1 21.194268-21.194268A21.313337 21.313337 0 0 1 307.451185 896.574582z"
                  fill="#DA4453"
                  p-id="4912"
                ></path>
                <path
                  d="M307.451185 853.828839a21.313337 21.313337 0 0 1-21.313338-21.194269V704.992685a21.313337 21.313337 0 0 1 42.507606 0v127.641885a21.194268 21.194268 0 0 1-21.194268 21.194269z"
                  fill="#DA4453"
                  p-id="4913"
                ></path>
                <path
                  d="M413.660664 770.956868V109.886208a106.328548 106.328548 0 1 0-212.538027 0v661.07066a148.836154 148.836154 0 1 0 212.538027 0zM307.451185 981.351655A106.209479 106.209479 0 0 1 231.485212 801.319444l11.906892-11.906893V110.719691a63.820943 63.820943 0 1 1 127.522817 0v678.69286l11.906892 11.906893a106.209479 106.209479 0 0 1-75.370628 180.032211z"
                  fill="#E6E9ED"
                  p-id="4914"
                ></path>
              </svg>
              极端低温：{{ min_diwen }}℃
            </el-card>
          </el-col>
          <el-col :span="2.1">
            <el-card shadow="always"
              ><svg
                t="1637322957668"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="3200"
                width="30"
                height="30"
              >
                <path
                  d="M670 202.76c-1 0.11-2 0.23-2.99 0.36-12.92 1.64-76.16 9.57-58.66 32.62 3.32 4.37 8.36 7.07 13.35 9.37 37.64 17.39 81.91 19.93 121.3 6.97 6.8-2.24 13.66-5.05 18.74-10.1s8-12.84 5.54-19.57c-3-8.22-12.37-11.95-20.83-14.18-24.85-6.56-50.92-8.34-76.45-5.47zM647.41 319.61c-28.6 5.3-49.36 14.71-38.05 30.68 3.42 4.82 8.67 7.98 13.95 10.64 38.83 19.61 87.41 18.5 125.3-2.86 6.12-3.45 12.14-7.56 15.97-13.45s5.03-13.95 1.36-19.94c-4.12-6.71-12.71-8.93-20.48-10.18-10.48-1.7-60.89-1.77-98.05 5.11z"
                  fill="#EAC22C"
                  p-id="3201"
                ></path>
                <path
                  d="M592.42 699.93c10.03 37.14 1.53 92.17-33.75 113.56-25.91 15.7-62.51 11.97-90.65 4.71-28.98-7.47-56.9-24.96-70.26-52.58-14.25-29.44-12.69-65.36 7.19-91.75 7.04-9.35 16.21-17.23 26.83-22.23 8.87-4.17 18.57-3.57 28.09-4.41 6.51-0.58 8.27-2.82 8.55-9.41 0.7-17.2-0.99-350.65-1.02-367.9-0.04-21.36 0.18-42.73 1.36-64.06 1.45-25.96-4.04-75.94 32.81-76.33 32.69-0.34 33.3 47.36 33.47 70.05 0.23 30.62-0.61 61.23-1.26 91.83-0.17 7.73-0.32 182.46-0.44 190.19-0.12 7.22-2.95 164.43 5.43 167.47 9.51 3.44 18.99 7.37 27.24 13.33 12.77 9.24 22.28 22.25 26.41 37.53z"
                  fill="#DB4A65"
                  p-id="3202"
                ></path>
                <path
                  d="M468.02 818.2c28.14 7.26 64.74 10.99 90.65-4.71 35.28-21.39 43.78-76.42 33.75-113.56-4.13-15.28-13.64-28.29-26.41-37.53-8.25-5.96-17.73-9.89-27.24-13.33-8.38-3.04-5.55-160.25-5.43-167.47 0.12-7.73 0.27-182.46 0.44-190.19 0.65-30.6 1.49-61.21 1.26-91.83-0.17-22.69-0.78-70.39-33.47-70.05-36.85 0.39-31.36 50.37-32.81 76.33-1.18 21.33-1.4 42.7-1.36 64.06 0.03 17.25 1.72 350.7 1.02 367.9-0.28 6.59-2.04 8.83-8.55 9.41-9.52 0.84-19.22 0.24-28.09 4.41-10.62 5-19.79 12.88-26.83 22.23-19.88 26.39-21.44 62.31-7.19 91.75 13.36 27.62 41.28 45.11 70.26 52.58z m-113.09-4.72c9.13 4.28 28.44 13.76 28.76 0.34 0.24-10.23-24.77-32-31.13-39.85-12.8-15.82-24.62-33.5-27.5-53.64-2.88-20.14 5.53-43.13 24.04-51.58 7.17-3.28 15.18-4.17 22.65-6.68s14.94-7.36 17.09-14.94c3.78-13.32-12.24-25.4-25.95-23.47-22.82 3.21-39.97 18.69-51.08 38.86-15.41 28.01-19.15 65.07-10.16 90.88 8.88 25.54 28.69 48.55 53.28 60.08z m349.3-158.8c22.03 81.6 3.38 202.52-74.16 249.51-56.93 34.5-137.33 26.32-199.17 10.36-63.67-16.42-125.03-54.85-154.38-115.53-31.3-64.7-27.87-143.61 15.8-201.6 15.48-20.53 35.63-37.85 58.96-48.84 19.49-9.17 40.8-7.84 61.7-9.69 14.33-1.27 18.19-6.19 18.79-20.68 1.55-37.79-2.16-76.13-2.23-114.03-0.1-46.93 0.38-93.89 3-140.76 3.18-57.05-8.89-166.86 72.07-167.71 71.84-0.74 73.17 104.05 73.55 153.92 0.51 67.27-1.34 134.52-2.78 201.77-0.36 16.98-0.7 33.96-0.97 50.94-0.25 15.87-6.47 33.91 11.95 40.58 20.89 7.58 41.73 16.2 59.84 29.3 28.06 20.29 48.96 48.88 58.03 82.46z"
                  fill="#BBE0E9"
                  p-id="3203"
                ></path>
                <path
                  d="M325.06 720.33c2.88 20.14 14.7 37.82 27.5 53.64 6.36 7.85 31.37 29.62 31.13 39.85-0.32 13.42-19.63 3.94-28.76-0.34-24.59-11.53-44.4-34.54-53.28-60.08-8.99-25.81-5.25-62.87 10.16-90.88 11.11-20.17 28.26-35.65 51.08-38.86 13.71-1.93 29.73 10.15 25.95 23.47-2.15 7.58-9.62 12.43-17.09 14.94s-15.48 3.4-22.65 6.68c-18.51 8.45-26.92 31.44-24.04 51.58z"
                  fill="#FFFFFF"
                  p-id="3204"
                ></path>
                <path
                  d="M717.33 483.47c4.16-0.94 8.16-2.12 11.95-3.52 13.69-5.09 55.7-25.8 31.52-43.23-4.62-3.33-10.71-3.53-16.4-3.61-21.45-0.29-123.69-17.03-132.01 16.23-5.06 13.82 6.47 21.44 17.44 26.12 24.62 10.48 59.58 14.35 87.5 8.01z"
                  fill="#EAC22C"
                  p-id="3205"
                ></path>
              </svg>
              活动积温：{{ huodong_temperature }}℃
            </el-card>
          </el-col>
        </el-row>
        <el-row :gutter="0" type="flex">
          <el-col :span="2.1">
            <el-card shadow="always">
              <svg
                t="1633917185805"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="5132"
                width="30"
                height="30"
              >
                <path
                  d="M688.323596 634.534831a178.91236 178.91236 0 0 1-86.292135-23.011235 18.98427 18.98427 0 0 1-7.191012-25.887641 19.27191 19.27191 0 0 1 25.887641-7.191011 143.820225 143.820225 0 0 0 169.995506-25.31236l6.90337-7.191011 7.766292 0.575281a79.964045 79.964045 0 0 0 16.683146 1.438202 93.195506 93.195506 0 1 0 0-186.103371 105.851685 105.851685 0 0 0-16.683146 1.438203l-10.067415 2.013483-6.903371-7.478652a141.231461 141.231461 0 0 0-66.157303-38.831461l-9.492135-2.301123-3.451686-8.916854A209.977528 209.977528 0 0 0 359.550562 246.795506a18.98427 18.98427 0 1 1-28.764045-25.31236 247.658427 247.658427 0 0 1 411.325843 64.431461 178.91236 178.91236 0 0 1 67.595505 39.694382h13.519101a131.164045 131.164045 0 0 1 0 262.32809 98.948315 98.948315 0 0 1-13.23146 0 176.898876 176.898876 0 0 1-121.67191 46.597752z"
                  p-id="5133"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M293.393258 634.534831a176.323596 176.323596 0 0 1 0-352.647191h11.505618a183.802247 183.802247 0 0 1 36.242697 6.903371 111.029213 111.029213 0 0 1 79.388764 106.714607 112.179775 112.179775 0 0 1-57.52809 97.510112 86.292135 86.292135 0 0 1-40.844944 10.355057 83.41573 83.41573 0 0 1-83.41573-83.415731 18.98427 18.98427 0 0 1 37.968539 0 45.447191 45.447191 0 0 0 45.447191 45.447191A44.008989 44.008989 0 0 0 345.168539 460.224719a73.348315 73.348315 0 0 0-14.094382-134.61573 136.629213 136.629213 0 0 0-28.764045-5.465169h-8.916854a138.355056 138.355056 0 1 0 87.730338 245.357304l211.41573-172.58427a18.98427 18.98427 0 1 1 23.874157 28.764045l-212.278652 173.734831a176.898876 176.898876 0 0 1-110.741573 39.119101z"
                  p-id="5134"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M619.002247 475.757303a18.696629 18.696629 0 0 1-18.984269-18.984269v-50.91236h-51.2a19.27191 19.27191 0 0 1 0-38.25618h70.184269a19.27191 19.27191 0 0 1 18.98427 19.27191v69.89663a18.98427 18.98427 0 0 1-18.98427 18.984269z"
                  p-id="5135"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M266.377655 722.438872m-8.94927 8.949271l-44.136175 44.136175q-8.949271 8.949271-17.898541 0l-8.135701-8.1357q-8.949271-8.949271 0-17.898541l44.136175-44.136176q8.949271-8.949271 17.898541 0l8.135701 8.135701q8.949271 8.949271 0 17.898541Z"
                  p-id="5136"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M175.582925 813.296066m-8.94927 8.94927l-44.136175 44.136175q-8.949271 8.949271-17.898541 0l-8.135701-8.1357q-8.949271-8.949271 0-17.898541l44.136175-44.136175q8.949271-8.949271 17.898541 0l8.135701 8.1357q8.949271 8.949271 0 17.898541Z"
                  p-id="5137"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M449.443952 722.328751m-8.949271 8.949271l-44.136175 44.136175q-8.949271 8.949271-17.898541 0l-8.1357-8.1357q-8.949271-8.949271 0-17.898541l44.136175-44.136176q8.949271-8.949271 17.898541 0l8.1357 8.135701q8.949271 8.949271 0 17.898541Z"
                  p-id="5138"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M358.649222 813.185945m-8.949271 8.94927l-44.136175 44.136175q-8.949271 8.949271-17.898541 0l-8.1357-8.1357q-8.949271-8.949271 0-17.898541l44.136175-44.136175q8.949271-8.949271 17.898541 0l8.1357 8.1357q8.949271 8.949271 0 17.898541Z"
                  p-id="5139"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M632.208649 722.462701m-8.94927 8.949271l-44.136175 44.136175q-8.949271 8.949271-17.898542 0l-8.1357-8.1357q-8.949271-8.949271 0-17.898541l44.136175-44.136176q8.949271-8.949271 17.898541 0l8.135701 8.135701q8.949271 8.949271 0 17.898541Z"
                  p-id="5140"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M541.617312 813.116502m-8.949271 8.949271l-44.136175 44.136175q-8.949271 8.949271-17.898541 0l-8.1357-8.135701q-8.949271-8.949271 0-17.898541l44.136175-44.136175q8.949271-8.949271 17.898541 0l8.1357 8.135701q8.949271 8.949271 0 17.898541Z"
                  p-id="5141"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M815.246182 722.422023m-8.949271 8.94927l-44.136175 44.136176q-8.949271 8.949271-17.898541 0l-8.135701-8.135701q-8.949271-8.949271 0-17.898541l44.136176-44.136175q8.949271-8.949271 17.898541 0l8.1357 8.1357q8.949271 8.949271 0 17.898541Z"
                  p-id="5142"
                  fill="#71b1ed"
                ></path>
                <path
                  d="M724.634505 813.02672m-8.949271 8.949271l-44.136175 44.136175q-8.949271 8.949271-17.898541 0l-8.1357-8.135701q-8.949271-8.949271 0-17.898541l44.136175-44.136175q8.949271-8.949271 17.898541 0l8.1357 8.135701q8.949271 8.949271 0 17.898541Z"
                  p-id="5143"
                  fill="#71b1ed"
                ></path>
              </svg>
              累计降水量：{{ jiangshuiliang_mean }}mm
            </el-card>
          </el-col>
          <el-col :span="2.1">
            <el-card shadow="always">
              <svg
                t="1633917688097"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="6006"
                width="30"
                height="30"
              >
                <path
                  d="M819.2 512a307.2 307.2 0 1 1-614.4 0 307.2 307.2 0 0 1 614.4 0z"
                  fill="#FF7744"
                  p-id="6007"
                ></path>
                <path
                  d="M580.266667 68.266667a68.266667 68.266667 0 1 0-136.533334 0v68.266666a68.266667 68.266667 0 1 0 136.533334 0V68.266667z m0 819.2a68.266667 68.266667 0 1 0-136.533334 0v68.266666a68.266667 68.266667 0 1 0 136.533334 0v-68.266666z m245.486933-592.6912l48.298667-48.264534a68.266667 68.266667 0 0 0-96.5632-96.5632l-48.264534 48.298667a68.266667 68.266667 0 1 0 96.529067 96.529067z m-579.242667 579.242666l48.264534-48.264533a68.266667 68.266667 0 1 0-96.529067-96.529067l-48.298667 48.264534a68.266667 68.266667 0 1 0 96.5632 96.5632zM1024 512a68.266667 68.266667 0 0 1-68.266667 68.266667h-68.266666a68.266667 68.266667 0 1 1 0-136.533334h68.266666a68.266667 68.266667 0 0 1 68.266667 68.266667zM204.8 512a68.266667 68.266667 0 0 1-68.266667 68.266667H68.266667a68.266667 68.266667 0 1 1 0-136.533334h68.266666a68.266667 68.266667 0 0 1 68.266667 68.266667z m524.424533 313.7536l48.264534 48.298667a68.266667 68.266667 0 0 0 96.5632-96.5632l-48.298667-48.264534a68.266667 68.266667 0 1 0-96.529067 96.529067zM198.2464 294.775467a68.266667 68.266667 0 1 0 96.529067-96.529067L246.510933 149.947733a68.266667 68.266667 0 1 0-96.5632 96.5632l48.298667 48.264534z"
                  fill="#FFAA44"
                  p-id="6008"
                ></path>
              </svg>
              平均日照时长：{{ rizhao_mean }}h
            </el-card>
          </el-col>
          <el-col :span="2.1">
            <el-card shadow="always"
              ><svg
                t="1633917759060"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="7387"
                width="30"
                height="30"
              >
                <path
                  d="M118.528 389.12c0 48.896 39.8336 89.6 87.6032 89.6S293.7856 437.8112 293.7856 389.12c7.9872-57.0368-39.8336-89.6-87.6544-89.6S118.528 340.0192 118.528 389.12z m833.024-208.4864C919.7056 180.4288 896 204.8 896 229.3248c7.9872 24.4224 31.8464 48.8448 55.7568 48.8448 31.8976 0 55.808-24.4224 55.808-48.8448s-24.1152-48.896-56.0128-48.896z m-243.1488 40.3456c47.8208 0 87.6544-40.96 87.6544-89.6s-39.8336-89.6-87.6544-89.6-87.6032 40.96-87.6032 89.6c-7.9872 48.64 31.8464 89.3952 87.6032 89.3952z m-365.056 24.4224c39.8336 0 79.6672-32.5632 79.6672-73.3184s-31.8976-73.5232-79.6672-73.5232c-39.8336 0-79.6672 32.6144-79.6672 73.3184s31.8464 73.3184 79.6672 73.3184zM738.2016 455.68c0 40.96 31.8976 73.3184 79.6672 73.3184 39.8336 0 79.6672-32.6144 79.6672-73.3184s-31.8464-73.3184-79.6672-73.3184C778.24 382.2592 738.2016 414.72 738.2016 455.68z m-197.7856-6.7072c39.8336 0 63.744-32.5632 63.744-65.1776s-31.8464-65.1264-63.744-65.1264c-39.8336 0-63.744 32.5632-63.744 65.1264s31.8976 65.0752 63.744 65.0752z m393.1648 139.3664c-8.5504 0-17.152 0-21.4016 4.352-171.52 122.4704-325.9392 35.0208-330.1888 30.72C260.4032 421.9904 46.08 636.3136 46.08 636.3136a22.8864 22.8864 0 0 0-8.5504 17.5104A33.1264 33.1264 0 0 0 46.08 671.3344c8.6016 13.1072 25.6 8.7552 38.6048 0 4.3008-8.7552 180.0704-179.2 463.104-4.352 4.3008 4.352 72.9088 43.7248 171.52 43.7248 64.3072 0 145.7664-17.5104 227.2768-74.3936a32.9728 32.9728 0 0 0 4.2496-39.3216 21.9648 21.9648 0 0 0-17.2544-8.7552zM88.0128 180.0704a64.4608 64.4608 0 0 0 63.744-65.1264A64.4608 64.4608 0 0 0 88.064 49.664 64.512 64.512 0 0 0 24.32 114.8416a64.4096 64.4096 0 0 0 63.6928 65.2288z m60.0064 589.568H75.776v209.92h49.5616v-69.5296h24.064c43.4688 0 81.408-22.0672 81.408-72.0384 0-51.968-37.376-68.352-82.7904-68.352zM146.8928 870.4h-21.5552v-60.928h20.224c23.808 0 37.0688 7.3216 37.0688 28.5184S171.008 870.4 146.8928 870.4z m229.3248-10.24c-3.8912 12.1344-7.2192 25.6-11.3664 38.4H363.52c-3.84-13.0048-7.168-26.2656-11.3152-38.4l-32.6656-90.6752H266.24v209.92h44.032V907.776a707.2768 707.2768 0 0 0-6.3488-72.9088h1.1264l16.5888 50.2784 27.9552 76.8h27.136l27.6992-76.8 17.152-50.2784h1.1264a707.2768 707.2768 0 0 0-6.3488 72.9088v71.9872h45.1072v-209.92H407.7568zM568.32 940.2368c31.5904-32.4608 62.0032-72.2944 62.0032-108.4416 0-40.1408-27.648-66.0992-67.5328-66.0992-29.3376 0-48.1792 10.7008-68.4032 32.4608l26.88 27.136c9.6768-10.752 20.48-20.48 34.8672-20.48 16.3328 0 26.88 10.24 26.88 29.696 0 30.72-34.6112 68.608-86.1184 116.3776v28.7744h142.8992v-42.3424h-37.9904a282.1632 282.1632 0 0 0-33.4848 2.9184z m134.2976-18.944a31.2832 31.2832 0 1 0 29.3376 31.0784 29.6448 29.6448 0 0 0-29.5936-31.0784z m137.6256-78.4896a50.7904 50.7904 0 0 0-21.2992 4.2496l3.0208-35.84h73.3696v-41.7792h-115.712l-5.12 103.936 21.5552 14.3872c12.2368-7.8848 17.7664-10.24 29.0816-10.24 17.7664 0 30.208 11.3152 30.208 32.4608s-12.4416 32.768-32.4096 32.768c-16.3328 0-30.72-8.7552-42.3424-20.0192l-22.8352 31.8976a97.28 97.28 0 0 0 71.9872 29.1328c39.5776 0 74.496-27.392 74.496-74.5984 0-45.4656-29.3888-66.3552-64.256-66.3552z"
                  fill="#71b1ed"
                  p-id="7388"
                ></path>
              </svg>
              平均PM2.5值：{{ pm_mean }}
            </el-card>
          </el-col>
          <el-col :span="2.1">
            <el-card shadow="always"
              ><svg
                t="1633918109216"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="11794"
                width="30"
                height="30"
              >
                <path
                  d="M399.36 942.08C224.256 942.08 81.92 799.744 81.92 624.64 81.92 455.68 371.712 104.448 384 89.088L399.36 70.656l15.36 19.456c1.024 0 103.424 124.928 188.416 258.048 6.144 9.216 3.072 22.528-6.144 28.672-9.216 6.144-22.528 3.072-28.672-6.144-63.488-100.352-137.216-195.584-168.96-235.52C338.944 210.944 122.88 491.52 122.88 624.64c0 152.576 123.904 276.48 276.48 276.48 75.776 0 148.48-30.72 198.656-84.992 8.192-8.192 20.48-8.192 28.672-1.024 8.192 8.192 8.192 20.48 1.024 28.672C569.344 906.24 486.4 942.08 399.36 942.08z"
                  p-id="11795"
                  fill="#23abd7"
                ></path>
                <path
                  d="M716.8 321.536c63.488 70.656 174.08 208.896 174.08 282.624 0 96.256-77.824 174.08-174.08 174.08s-174.08-77.824-174.08-174.08c0-72.704 110.592-211.968 174.08-282.624m0-45.056S512 491.52 512 604.16s92.16 204.8 204.8 204.8 204.8-92.16 204.8-204.8-204.8-327.68-204.8-327.68z"
                  p-id="11796"
                  fill="#23abd7"
                ></path>
                <path
                  d="M655.36 713.728c-3.072 0-6.144-1.024-8.192-3.072-35.84-24.576-58.368-64.512-58.368-106.496 0-31.744 11.264-61.44 31.744-83.968 10.24-11.264 21.504-20.48 35.84-28.672 7.168-4.096 16.384-2.048 21.504 5.12 4.096 7.168 2.048 16.384-5.12 21.504-11.264 6.144-20.48 13.312-27.648 22.528-15.36 17.408-23.552 38.912-23.552 63.488 0 32.768 16.384 62.464 44.032 81.92 7.168 5.12 9.216 14.336 4.096 21.504-4.096 4.096-9.216 6.144-14.336 6.144zM363.52 821.248h-3.072c-93.184-18.432-160.768-100.352-160.768-196.608 0-40.96 13.312-82.944 37.888-117.76 5.12-7.168 14.336-8.192 21.504-4.096 7.168 5.12 8.192 14.336 4.096 21.504-20.48 29.696-31.744 64.512-31.744 99.328 0 80.896 57.344 150.528 136.192 165.888 8.192 2.048 13.312 9.216 12.288 18.432-3.072 8.192-9.216 13.312-16.384 13.312z"
                  p-id="11797"
                  fill="#23abd7"
                ></path>
              </svg>
              平均湿度：{{ shidu_mean }}%
            </el-card>
          </el-col>
          <el-col :span="2.1">
            <el-card shadow="always">
              <svg
                t="1633918517919"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="16364"
                width="30"
                height="30"
              >
                <path
                  d="M680.7 218.9h-34c-10.1 0-18.4-8.3-18.4-18.4 0-10.1 8.3-18.4 18.4-18.4h34c10.1 0 18.4 8.3 18.4 18.4-0.1 10.2-8.3 18.4-18.4 18.4zM680.7 287.8h-34c-10.1 0-18.4-8.3-18.4-18.4 0-10.1 8.3-18.4 18.4-18.4h34c10.1 0 18.4 8.3 18.4 18.4-0.1 10.1-8.3 18.4-18.4 18.4zM680.7 356.7h-34c-10.1 0-18.4-8.3-18.4-18.4 0-10.1 8.3-18.4 18.4-18.4h34c10.1 0 18.4 8.3 18.4 18.4-0.1 10.1-8.3 18.4-18.4 18.4z"
                  fill="#1A1A1A"
                  p-id="16365"
                ></path>
                <path
                  d="M596.1 551.2v-399c0-48.1-39.2-87.3-87.3-87.3s-87.3 39.2-87.3 87.3v399c-56.5 31-94.9 91.1-94.9 159.9 0 100.5 81.8 182.3 182.3 182.3S691 811.6 691 711.1c0-68.9-38.4-128.9-94.9-159.9z m-87.3 304c-79.4 0-144-64.6-144-144 0-46.6 22.3-88.1 56.7-114.5 11.5-8.8 24.4-15.9 38.2-21V152.2c0-27.1 22-49.1 49.1-49.1s49.1 22 49.1 49.1v423.5c13.9 5 26.7 12.2 38.2 21 34.4 26.3 56.7 67.8 56.7 114.5 0 79.3-64.6 144-144 144z"
                  fill="#1A1A1A"
                  p-id="16366"
                ></path>
                <path
                  d="M509 715.2m-77.3 0a77.3 77.3 0 1 0 154.6 0 77.3 77.3 0 1 0-154.6 0Z"
                  fill="#00B36A"
                  p-id="16367"
                ></path>
                <path
                  d="M605.4 715.8c-8.8-1.7-17.3 3.5-20.1 11.7-5.9 36.8-37.8 64.8-76.3 64.8-42.7 0-77.3-34.6-77.3-77.3 0-42.7 34.6-77.3 77.3-77.3 6.2 0 12.2 0.8 18 2.1 0.1-0.7 0.2-1.4 0.2-2.2v-441c0-9.7-7.9-17.6-17.6-17.6-9.7 0-17.6 7.9-17.6 17.6v408.2c-0.9 0-1.7 0.1-2.6 0.3-45.4 8.4-80.5 43.2-89.3 88.6-11.7 60.5 27.9 119.2 88.4 131 7.2 1.4 14.3 2.1 21.3 2.1 52.4 0 99.3-37.1 109.6-90.4 1.8-9.4-4.5-18.7-14-20.6zM914.4 959.1c-54.5 0-83.1-18.8-108.4-35.4-23.8-15.6-46.2-30.4-91.8-30.4s-68 14.8-91.8 30.4c-25.2 16.6-53.9 35.4-108.4 35.4-54.5 0-83.1-18.8-108.4-35.4-23.8-15.6-46.2-30.4-91.8-30.4s-68 14.8-91.8 30.4c-25.2 16.6-53.9 35.4-108.4 35.4-8.9 0-16.1-7.9-16.1-17.6 0-9.7 7.2-17.6 16.1-17.6 45.6 0 68-14.8 91.8-30.4 25.2-16.6 53.9-35.4 108.4-35.4s83.1 18.8 108.4 35.4c23.8 15.6 46.2 30.4 91.8 30.4 45.6 0 68-14.8 91.8-30.4 25.2-16.6 53.9-35.4 108.4-35.4 54.5 0 83.1 18.8 108.4 35.4 23.8 15.6 46.2 30.4 91.8 30.4 8.9 0 16.1 7.9 16.1 17.6 0 9.7-7.2 17.6-16.1 17.6zM924.2 814.9c-45.6 0-68-14.8-91.8-30.4-25.2-16.6-53.9-35.4-108.4-35.4-12.6 0-23.8 1-33.9 2.8-2.9 13.6-7.1 26.7-12.5 39.1 12.7-4.1 27.5-6.6 46.3-6.6 45.6 0 68 14.8 91.8 30.4 25.2 16.6 53.9 35.4 108.4 35.4 8.9 0 16.1-7.9 16.1-17.6 0.1-9.8-7.1-17.7-16-17.7zM323.7 750.5c-7.4-0.8-15.2-1.4-23.8-1.4-54.5 0-83.1 18.8-108.4 35.4-23.8 15.6-46.2 30.4-91.8 30.4-8.9 0-16.1 7.9-16.1 17.6 0 9.7 7.2 17.6 16.1 17.6 54.5 0 83.1-18.8 108.4-35.4 23.8-15.6 46.2-30.4 91.8-30.4 13.6 0 25.2 1.3 35.3 3.6-4.9-11.8-8.8-24.4-11.5-37.4z"
                  fill="#1A1A1A"
                  p-id="16368"
                ></path>
              </svg>
              有效积温：{{ effective_temperature }}℃
            </el-card>
          </el-col>
        </el-row>
      </div>
      <div class="history_weather_show">
        <el-table
          stripe="true"
          border
          :data="
            weatherData.slice(
              (currentPage - 1) * pagesize,
              currentPage * pagesize
            )
          "
          style="width: 1200px height:100%"
          :header-cell-style="{ background: '#eef1f6', color: '#606266' }"
        >
          <el-table-column prop="citys" label="城市" width="120" align="center">
          </el-table-column>
          <el-table-column prop="dates" label="日期" width="120" align="center">
          </el-table-column>
          <el-table-column
            prop="weathers"
            label="天气状况"
            width="120"
            align="center"
          >
          </el-table-column>
          <el-table-column
            prop="highest_temperature"
            label="最高温度(℃)"
            width="120"
            align="center"
          >
            <template slot-scope="scope">
              <div class="specialColor">
                {{ scope.row.highest_temperature }}
              </div>
            </template>
          </el-table-column>
          <el-table-column
            prop="minimum_temperature"
            label="最低温度（℃）"
            width="120"
            align="center"
          >
          </el-table-column>
          <el-table-column
            prop="wind_direction"
            label="风向"
            width="120"
            align="center"
          >
          </el-table-column>
          <el-table-column
            prop="humidity"
            label="湿度(%)"
            width="120"
            align="center"
          >
          </el-table-column>
          <el-table-column
            prop="ultraviolet_rays"
            label="紫外线"
            width="120"
            align="center"
          >
            <template slot-scope="scope">
              <span
                v-if="scope.row.ultraviolet_rays == '很强'"
                style="color: red"
                >很强</span
              >
              <span v-if="scope.row.ultraviolet_rays == '强'" style="color: red"
                >强</span
              >
              <span
                v-if="scope.row.ultraviolet_rays == '中'"
                style="color: rgb(84, 195, 26)"
                >中</span
              >
              <span
                v-if="scope.row.ultraviolet_rays == '中等'"
                style="color: rgb(84, 195, 26)"
                >中等</span
              >
              <span
                v-if="scope.row.ultraviolet_rays == '弱'"
                style="color: black"
                >弱</span
              >
              <span
                v-if="scope.row.ultraviolet_rays == '很弱'"
                style="color: black"
                >很弱</span
              >
            </template>
          </el-table-column>
          <el-table-column
            prop="air_quality"
            label="空气质量指数"
            width="120"
            align="center"
          >
            <template slot-scope="scope">
              <span
                v-if="scope.row.air_quality == '优'"
                style="color: rgb(84, 195, 26)"
                >优</span
              >
              <span v-if="scope.row.air_quality == '良'" style="color: #dec674"
                >良</span
              >
              <span
                v-if="scope.row.air_quality == '轻度污染'"
                style="color: #ffa500"
                >轻度污染</span
              >
              <span
                v-if="scope.row.air_quality == '中度污染'"
                style="color: red"
                >中度污染</span
              >
              <span
                v-if="scope.row.air_quality == '重度污染'"
                style="color: #ff00ff"
                >重度污染</span
              >
              <span
                v-if="scope.row.air_quality == '严重污染'"
                style="color: #ff4500"
                >严重污染</span
              >
            </template>
          </el-table-column>
          <el-table-column prop="pm" label="PM2.5" width="120" align="center">
          </el-table-column>
          <el-table-column
            prop="sunlight_time"
            label="日照时长（h）"
            width="120"
            align="center"
          >
          </el-table-column>
          <el-table-column
            prop="precipitations"
            label="降水量（mm）"
            width="120"
            align="center"
          >
          </el-table-column>
        </el-table>
        <div class="block">
          <!-- <span class="demonstration">调整每页显示条数</span> -->
          <el-pagination
            background
            @size-change="handleSizeChange"
            @current-change="handleCurrentChange"
            :current-page.sync="currentPage"
            :page-sizes="[10, 20, 30, 40]"
            :page-size="pagesize"
            layout="sizes, prev, pager, next"
            :total="weatherData.length"
          >
          </el-pagination>
        </div>
      </div>

      <div class="zhedie">
        <div class="echartAll_fenxi">
          <span class="svg_echarts">气象数据图表分析</span>
          <span
            ><svg
              t="1632797976447"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="1839"
              width="50"
              height="50"
            >
              <path
                d="M372.5312 1005.1072s-64.1024-140.6976 162.9696-432.7936c224.9216-289.3312 105.4208-500.2752 105.4208-500.2752s149.76 209.92-58.9824 479.8976c-285.5936 369.664-199.2704 437.9648-209.408 453.1712z"
                fill="#8E9340"
                p-id="1840"
              ></path>
              <path
                d="M372.5312 1005.1072s-64.1024-140.6976 162.9696-432.7936c224.9216-289.3312 105.4208-500.2752 105.4208-500.2752s149.76 209.92-58.9824 479.8976c-285.5936 369.664-199.2704 437.9648-209.408 453.1712z"
                fill="#8E9340"
                p-id="1841"
              ></path>
              <path
                d="M420.6592 32.256s13.4656 20.48 12.5952 32.5632S419.84 86.2208 419.84 86.2208a48.128 48.128 0 0 1-10.24-23.0912c-1.4848-11.264 11.0592-30.8736 11.0592-30.8736zM350.8736 84.1728s23.552-8.6016 35.84-4.7616S404.48 98.2016 404.48 98.2016a49.5616 49.5616 0 0 1-25.6 5.12c-11.4176-1.8432-28.0064-19.1488-28.0064-19.1488zM367.5136 117.4528s28.4672-7.8336 43.5712-3.0208 23.3472 21.0944 23.3472 21.0944a65.3312 65.3312 0 0 1-31.2832 3.7888c-14.0288-2.4064-35.6352-21.8624-35.6352-21.8624zM390.6048 150.1184s33.6384-2.1504 49.408 6.7072 21.248 29.0304 21.248 29.0304a74.5984 74.5984 0 0 1-35.84-3.0208c-15.4112-6.0416-34.816-32.7168-34.816-32.7168zM405.9136 193.1264s33.6384-2.1504 49.408 6.7072 21.248 29.0304 21.248 29.0304a74.5984 74.5984 0 0 1-35.84-3.0208c-15.4112-5.9904-34.816-32.7168-34.816-32.7168zM427.9296 237.0048s33.6384-2.1504 49.408 6.7072 21.248 29.0304 21.248 29.0304a74.5984 74.5984 0 0 1-35.84-3.0208c-15.36-5.9904-34.816-32.7168-34.816-32.7168zM438.016 278.8864S476.16 283.648 491.8272 296.96s17.5616 36.9664 17.5616 36.9664a84.8896 84.8896 0 0 1-39.424-11.008c-15.9232-10.0864-31.9488-44.032-31.9488-44.032zM448.768 332.4928s36.4032 12.0832 49.2544 28.16 10.24 39.68 10.24 39.68a84.8896 84.8896 0 0 1-36.5056-18.4832c-13.8752-12.9024-22.9888-49.3568-22.9888-49.3568zM441.7024 380.416s38.0928 12.6464 51.5072 29.44 10.24 41.5232 10.24 41.5232a88.7808 88.7808 0 0 1-38.1952-19.3536c-14.0288-13.5168-23.552-51.6096-23.552-51.6096zM437.8624 434.176s34.6112 20.48 44.2368 39.5776 1.5872 42.752 1.5872 42.752A88.7808 88.7808 0 0 1 450.56 489.6256c-11.3664-16.1792-12.6976-55.4496-12.6976-55.4496zM350.5664 11.8272s29.9008 10.752 38.5536 24.32 2.3552 33.024 2.3552 33.024a62.7712 62.7712 0 0 1-28.928-16.0768c-9.8816-10.9568-11.9808-41.2672-11.9808-41.2672zM456.7552 63.8464S466.8928 87.04 465.92 101.888a64.3584 64.3584 0 0 1-10.24 28.3648 59.2384 59.2384 0 0 1-12.9024-28.416c-1.4848-13.8752 13.9776-37.9904 13.9776-37.9904zM534.0672 134.8608s3.3792 31.0784-3.5328 48.64a80.2304 80.2304 0 0 1-22.8864 29.8496 73.8304 73.8304 0 0 1-4.6592-38.656c3.6352-16.9472 31.0784-39.8336 31.0784-39.8336zM558.08 183.4496s3.6864 33.8944-3.8912 53.0944a87.6032 87.6032 0 0 1-24.9856 32.5632s-9.4208-22.016-5.12-42.1888c4.1472-18.4832 33.9968-43.4688 33.9968-43.4688zM584.0384 242.432s-1.1776 33.9456-11.4176 51.7632a87.04 87.04 0 0 1-29.2864 28.3648s-6.144-23.04 1.024-42.2912c6.6048-17.5104 39.68-37.8368 39.68-37.8368zM603.648 294.8608s-5.7344 40.96-20.48 60.928a105.6256 105.6256 0 0 1-38.8608 30.72s-4.4544-28.5184 6.6048-50.7904c10.2912-20.5312 52.736-40.8576 52.736-40.8576zM600.5248 439.1936s-17.7664 37.12-37.7344 51.968a105.6256 105.6256 0 0 1-46.08 17.5104s4.352-28.5184 21.6064-46.4384c15.616-16.4864 62.208-23.04 62.208-23.04zM617.1648 365.2096s-14.08 41.9328-33.4848 60.416a113.6128 113.6128 0 0 1-47.104 24.9344s0.9216-31.0272 16.9472-52.4288c14.7968-19.8656 63.6416-32.9216 63.6416-32.9216zM494.2848 92.16s13.824 31.6416 7.8848 46.4384c-5.12 12.8512-21.504 22.1184-21.504 22.1184a62.3104 62.3104 0 0 1-8.0896-31.8464c1.2288-14.7456 21.7088-36.7104 21.7088-36.7104z"
                fill="#E89724"
                p-id="1842"
              ></path>
              <path
                d="M320.9728 989.184s-46.3872-95.3856 21.0432-232.7552c31.1296-63.4368 97.28-119.5008 140.5952-228.352 103.3728-260.352-84.1216-448.768-84.1216-448.768S640 286.72 476.8768 586.3424c-34.2528 62.8736-118.1184 157.1328-143.36 226.6624-35.6352 99.6864-6.5536 167.2192-12.544 176.1792zM796.3648 121.7024s2.816 24.1664-3.5328 34.7648-21.8624 12.9024-21.8624 12.9024a48.128 48.128 0 0 1 1.1264-25.344c4.1472-10.5472 24.2688-22.3232 24.2688-22.3232zM710.6048 136.3456s24.8832 3.0208 33.8944 11.9296 7.6288 24.9856 7.6288 24.9856a49.5616 49.5616 0 0 1-25.088-7.2704c-9.472-6.7072-16.4352-29.6448-16.4352-29.6448zM710.3488 173.568s28.928 5.9392 40.192 17.0496 11.264 29.44 11.264 29.44a65.3312 65.3312 0 0 1-29.6448-10.8032c-11.5712-8.6528-21.8112-35.6864-21.8112-35.6864zM716.1344 213.1456s30.72 13.3632 40.96 28.416 5.7856 35.4816 5.7856 35.4816a74.5984 74.5984 0 0 1-30.72-18.944c-10.8544-12.3392-16.0256-44.9536-16.0256-44.9536zM710.1952 258.4064s30.72 13.3632 40.96 28.416 5.7856 35.7376 5.7856 35.7376a74.5984 74.5984 0 0 1-30.72-18.944c-10.8032-12.5952-16.0256-45.2096-16.0256-45.2096zM709.9392 307.5072s30.72 13.3632 40.96 28.416 5.7344 35.4816 5.7344 35.4816a74.5984 74.5984 0 0 1-30.72-18.944c-10.752-12.3392-15.9744-44.9536-15.9744-44.9536zM699.904 349.3888s31.7952 21.504 39.7824 40.448-1.0752 40.96-1.0752 40.96a84.8896 84.8896 0 0 1-30.1568-27.6992c-9.6256-16.1792-8.5504-53.7088-8.5504-53.7088zM688.2816 398.4384s26.9824 27.2896 31.1296 47.4624-9.0624 39.8848-9.0624 39.8848a84.8896 84.8896 0 0 1-24.2688-33.024c-6.2464-17.5616 2.2016-54.3232 2.2016-54.3232zM651.1616 437.9136s28.2112 28.5696 32.5632 49.6128-9.472 41.728-9.472 41.728a88.7808 88.7808 0 0 1-25.2416-34.56c-6.656-18.5344 2.1504-56.7808 2.1504-56.7808zM628.4288 490.0352s24.1152 32.0512 25.6 53.5552-15.0016 40.0896-15.0016 40.0896a88.7808 88.7808 0 0 1-20.48-37.632c-4.1472-19.2512 9.8816-56.0128 9.8816-56.0128zM743.168 71.68s21.76 23.1424 23.296 39.168-12.8512 30.72-12.8512 30.72a62.7712 62.7712 0 0 1-18.4832-27.4432c-3.8912-14.4384 8.0384-42.4448 8.0384-42.4448zM814.08 166.2464s-1.3824 25.0368-9.216 38.0416a64.3584 64.3584 0 0 1-22.016 20.48 59.2384 59.2384 0 0 1 1.3824-31.1808c5.2224-12.8512 29.8496-27.3408 29.8496-27.3408zM850.8416 264.6528s-11.0592 29.2352-25.2416 41.728a80.2304 80.2304 0 0 1-33.8944 16.1792 73.8304 73.8304 0 0 1 13.3632-36.5568c10.9568-13.4144 45.7728-21.3504 45.7728-21.3504zM850.3296 318.8736s-12.0832 31.8976-27.5456 45.568a87.6032 87.6032 0 0 1-37.0176 17.7152s1.5872-23.8592 14.592-39.8848c11.9296-14.592 49.9712-23.3984 49.9712-23.3984zM846.592 383.1296s-16.4864 29.696-33.6384 40.96a87.04 87.04 0 0 1-39.0144 12.1344s5.12-23.296 20.0704-37.2224c13.8752-12.7488 52.5824-15.872 52.5824-15.872zM840.2944 438.784s-23.6032 33.6896-45.7216 45.1072a105.6256 105.6256 0 0 1-48.5376 9.6768s8.96-27.4432 28.928-42.2912c18.2784-13.6704 65.3312-12.4928 65.3312-12.4928zM772.0448 566.016s-32.6656 25.0368-57.1904 29.184a105.6256 105.6256 0 0 1-49.2032-5.4272s16.8448-23.4496 40.3456-31.5904c21.6064-7.4752 66.048 7.8336 66.048 7.8336zM813.056 514.304s-31.6928 28.2112-56.576 34.3552a108.9024 108.9024 0 0 1-51.2-1.8432s15.36-25.6 39.0656-35.5328c21.8112-9.5232 68.7104 3.0208 68.7104 3.0208zM834.8672 208.384s-2.048 34.4576-14.0288 44.9536c-10.24 9.1136-29.184 9.984-29.184 9.984a62.3104 62.3104 0 0 1 7.0656-32.0512c7.8336-12.4928 36.1472-22.8864 36.1472-22.8864z"
                fill="#E89724"
                p-id="1843"
              ></path>
              <path
                d="M273.4592 929.3312s1.9456-106.0352 124.3648-197.888c56.32-42.3936 141.0048-62.3104 228.864-139.7248C836.9152 406.5792 755.3024 153.6 755.3024 153.6s121.2928 294.1952-160.2048 487.424c-59.0336 40.4992-176.5376 86.4768-230.4 137.0624-77.1584 72.6528-81.8688 145.9712-91.2384 151.2448z"
                fill="#E89724"
                p-id="1844"
              ></path></svg
          ></span>
        </div>

        <el-collapse v-model="activeNames" @change="handleChange">
          <el-collapse-item class="deploy-setting" name="1">
            <template slot="title">
              <span
                style="
                  float: left;
                  font-weight: bold;
                  font-size: 14px;
                  color: #2c8df4;
                "
                >气象数据图表分析————气温走势图</span
              >
            </template>
            <div class="echart1">
              <div class="qiwen">
                <span
                  ><el-select v-model="cityType" placeholder="请选择">
                    <el-option
                      v-for="item in cities"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                  <el-select v-model="yearType" placeholder="请选择">
                    <el-option
                      v-for="item in years"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                  <el-select v-model="monthType" placeholder="请选择">
                    <el-option
                      v-for="item in months"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                  <span class="chaxun">
                    <el-button type="primary" @click="echart1">查询</el-button>
                  </span>
                </span>
              </div>
              <div id="echart1" style="width: 1200px; height: 550px"></div>
            </div>
          </el-collapse-item>

          <el-collapse-item class="deploy-setting" name="2">
            <template slot="title">
              <span
                style="
                  float: left;
                  font-weight: bold;
                  font-size: 14px;
                  color: #2c8df4;
                "
                >气象数据图表分析————积温数据图</span
              >
            </template>
            <div class="echart4">
              <div class="jiwen">
                <span
                  ><el-select v-model="cityType" placeholder="请选择">
                    <el-option
                      v-for="item in cities"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                  <el-select v-model="yearType" placeholder="请选择">
                    <el-option
                      v-for="item in years"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                  <el-select v-model="monthType" placeholder="请选择">
                    <el-option
                      v-for="item in months"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                  <span class="chaxun">
                    <el-button type="primary" @click="echart4">查询</el-button>
                  </span>
                </span>
              </div>
              <div id="echart4" style="width: 1200px; height: 550px"></div>
            </div>
            <div class="echart5">
              <span class="diqujiwenduibi"> 地区积温对比 </span>
              <span class="date_range">
                <el-date-picker
                  v-model="daterange"
                  type="daterange"
                  range-separator="至"
                  start-placeholder="开始日期"
                  end-placeholder="结束日期"
                  value-format="yyyy-MM-dd"
                >
                  >
                </el-date-picker>
              </span>
              <span class="datechaxun">
                <el-button type="primary" @click="echart5"
                  >查询</el-button
                >
              </span>
              <div id="echart5" style="width: 1200px; height: 550px"></div>
            </div>
          </el-collapse-item>

          <el-collapse-item title="图表分析————降雨量及日照时数图" name="3">
            <template slot="title">
              <span
                style="
                  float: left;
                  font-weight: bold;
                  font-size: 14px;
                  color: #2c8df4;
                "
                >气象数据图表分析————降雨量及日照时数图</span
              >
            </template>
            <div class="echart2">
              <div class="jiangshui">
                <span
                  ><el-select v-model="cityType" placeholder="请选择">
                    <el-option
                      v-for="item in cities"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                  <el-select v-model="yearType" placeholder="请选择">
                    <el-option
                      v-for="item in years"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                  <el-select v-model="monthType" placeholder="请选择">
                    <el-option
                      v-for="item in months"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                  <span class="chaxun">
                    <el-button type="primary" @click="echart2">查询</el-button>
                  </span>
                </span>
              </div>
              <div id="echart2" style="width: 1200px; height: 550px"></div>
            </div>
          </el-collapse-item>

          <el-collapse-item
            title="图表分析————近三年天气数据总体分析图"
            name="4"
          >
            <template slot="title">
              <span
                style="
                  float: left;
                  font-weight: bold;
                  font-size: 14px;
                  color: #2c8df4;
                "
                >气象数据图表分析————近三年天气数据总体分析图</span
              >
            </template>
            <div class="echart3">
              <div class="date_select">
                <span class="chengshixuanze">
                  <el-select v-model="cityTypes" clearable placeholder="城市">
                    <el-option
                      v-for="item in citiess"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value"
                    >
                    </el-option>
                  </el-select>
                </span>
                <span class="date_range">
                  <el-date-picker
                    v-model="daterange"
                    type="daterange"
                    range-separator="至"
                    start-placeholder="开始日期"
                    end-placeholder="结束日期"
                    value-format="yyyy-MM-dd"
                  >
                    >
                  </el-date-picker>
                </span>
                <span class="datechaxun">
                  <el-button type="primary" @click="echart3">查询</el-button>
                </span>
              </div>
              <div id="echart3" style="height: 800px; margin-top: 50px"></div>
            </div>
          </el-collapse-item>
        </el-collapse>
      </div>
    </div>
  </div>
</template>

<script>
import axios from "axios";
import * as echarts from "echarts";
import { log } from "mathjs";
export default {
  data() {
    return {
      //手风琴折叠
      activeNames: [],
      //分页
      currentPage: 1,
      pagesize: 10,
      //表中数据
      weatherData: [],
      //表名
      tableLabel: "历史天气表",
      tableName: "weatherinformation",
      //城市的option
      cities: [],
      cityType: "肥东县",
      //年份的option
      years: [],
      yearType: "2021年",
      //月份的option
      months: [],
      monthType: "11月",
      //日期选择
      daterange: "",
      //日期的城市选择
      citiess: [],
      cityTypes: "肥东县",

      /* 平均数据变量 */
      //平均高温
      gaowen_mean: "",
      //平均低温
      diwen_mean: "",
      //极端高温
      max_gaowen: "",
      //极端低温
      min_diwen: "",
      //活动积温
      huodong_temperature: "",
      //累计降水量
      jiangshuiliang_mean: "",
      //平均日照时长
      rizhao_mean: "",
      //平均PM2.5值
      pm_mean: "",
      //平均湿度
      shidu_mean: "",
      //有效积温
      effective_temperature: "",

      //echart3所选日期的年份的所有数据
      echart3_qiwen_mean: "",
    };
  },
  created() {
    this.initData();
  },
  methods: {
    handleChange(val) {
      console.log(val);
    },
    //初始化数据
    initData() {
      
      this.getSelect();
      //this.getTableData();
      this.getSelects();
      this.searchInfo();
      this.echart4();
      this.echart5();
    },
    //获取表数据
    // getTableData() {
    //   const _this = this;
    //   axios({
    //     url: "/getWeatherData",
    //     method: "get",
    //   })
    //     .then((res) => {
    //       // 总体数据
    //       _this.weatherData = res.data;
    //       //循环变量统一
    //       var i = 0;

    //       // 平均高温
    //       var gaowen = [];
    //       var sum_gaowen = 0;
    //       for (i = 0; i < this.weatherData.length; i++) {
    //         gaowen.push(parseInt(this.weatherData[i].highest_temperature));
    //         sum_gaowen += gaowen[i];
    //       }
    //       _this.gaowen_mean = sum_gaowen / this.weatherData.length;
    //       // 四舍五入
    //       _this.gaowen_mean = _this.gaowen_mean.toFixed(2);
    //       //极端高温
    //       _this.max_gaowen = Math.max(...gaowen);

    //       // 平均低温
    //       var diwen = [];
    //       var sum_diwen = 0;
    //       for (i = 0; i < this.weatherData.length; i++) {
    //         diwen.push(parseInt(this.weatherData[i].minimum_temperature));
    //         sum_diwen += diwen[i];
    //       }
    //       _this.diwen_mean = sum_diwen / this.weatherData.length;
    //       // 四舍五入
    //       _this.diwen_mean = _this.diwen_mean.toFixed(2);
    //       //极端低温
    //       _this.min_diwen = Math.min(...diwen);

    //       //累计降水量
    //       var jiangshuiliang = [];
    //       var sum_jiangshuiliang = 0;
    //       for (i = 0; i < this.weatherData.length; i++) {
    //         jiangshuiliang.push(parseInt(this.weatherData[i].precipitations));
    //         sum_jiangshuiliang += jiangshuiliang[i];
    //       }
    //       _this.jiangshuiliang_mean = sum_jiangshuiliang 
    //       // 四舍五入
    //       _this.jiangshuiliang_mean = _this.jiangshuiliang_mean.toFixed(1);

    //       //平均日照时长
    //       var rizhao = [];
    //       var sum_rizhao = 0;
    //       for (i = 0; i < this.weatherData.length; i++) {
    //         rizhao.push(parseInt(this.weatherData[i].sunlight_time));
    //         sum_rizhao += rizhao[i];
    //       }
    //       _this.rizhao_mean = sum_rizhao / this.weatherData.length;
    //       // 四舍五入
    //       _this.rizhao_mean = _this.rizhao_mean.toFixed(1);

    //       //平均PM2.5值
    //       var pm = [];
    //       var sum_pm = 0;
    //       for (i = 0; i < this.weatherData.length; i++) {
    //         pm.push(parseInt(this.weatherData[i].pm));
    //         sum_pm += pm[i];
    //       }
    //       _this.pm_mean = sum_pm / this.weatherData.length;
    //       // 四舍五入
    //       _this.pm_mean = _this.pm_mean.toFixed(1);

    //       //平均湿度
    //       var shidu = [];
    //       var sum_shidu = 0;
    //       for (i = 0; i < this.weatherData.length; i++) {
    //         shidu.push(parseInt(this.weatherData[i].humidity));
    //         sum_shidu += shidu[i];
    //       }
    //       _this.shidu_mean = sum_shidu / this.weatherData.length;
    //       // 四舍五入
    //       _this.shidu_mean = _this.shidu_mean.toFixed(1);

    //       //有效积温
    //       var jiwen = [];
    //       var sum_jiwen = 0;
    //       for (i = 0; i < this.weatherData.length; i++) {
    //         //console.log(this.weatherData[i].realtime_temperature-10)
    //           if (parseInt(this.weatherData[i].realtime_temperature - 10)>=0) {
    //             jiwen.push(parseInt(this.weatherData[i].realtime_temperature - 10));
    //             sum_jiwen = eval(jiwen.join("+"));
    //             _this.effective_temperature = sum_jiwen.toFixed(3);
    //         } else {
    //           sum_jiwen = 0
    //           _this.effective_temperature = sum_jiwen.toFixed(3);
    //         }
      
    //       }

    //       //活动积温
    //       var huodong_jiwen = [];
    //       var sum_huodongjiwen = 0;
    //       for (i = 0; i < this.weatherData.length; i++) {
    //         huodong_jiwen.push(
    //           parseInt(this.weatherData[i].realtime_temperature)
    //         );
    //         sum_huodongjiwen += huodong_jiwen[i];
    //       }
    //       _this.huodong_temperature = sum_huodongjiwen.toFixed(2);
    //     })
    //     .catch((err) => {
    //       return this.$message.error("查询数据失败");
    //     });
    // },
    //获取下拉框内容
    getSelect() {
      const _this = this;
      axios({
        url: "/getselect",
        method: "get",
      })
        .then((res) => {
          var optionData = [];
          optionData = res.data;
          //城市
          var cityData = [];
          //年份
          var yearData = [];
          //月份
          var monthData = [];
          //console.log(optionData);
          for (var i = 0; i < optionData.length; ++i) {
            if (optionData[i].option === "城市") {
              cityData.push({
                label: optionData[i].list,
                value: optionData[i].list,
              });
            }
            if (optionData[i].option === "年份") {
              yearData.push({
                label: optionData[i].list,
                value: optionData[i].list,
              });
            }
            if (optionData[i].option === "月份") {
              monthData.push({
                label: optionData[i].list,
                value: optionData[i].list,
              });
            }
          }
          _this.cities = cityData;
          _this.years = yearData;
          _this.months = monthData;
        })
        .catch((err) => {
          return this.$message.error("查询数据失败！");
        });
    },

    //第一个搜索按钮
    searchInfo() {
      const _this = this;
      // let mm = new Date().getMonth()+1;
      // var yue = mm.toString()+"月"
      // this.monthType=mm.toString()
      //console.log(yue);
      axios({
        url: "/getsearch",
        method: "post",
        params: {
          cityType: this.cityType,
          yearType: this.yearType,
          monthType: this.monthType,
        },
      })
        .then((res) => {
          console.log(res.data);
          // 总体数据
          _this.weatherData = res.data;
          // 平均高温
          var gaowen = [];
          var sum_gaowen = 0;
          for (var i = 0; i < this.weatherData.length; i++) {
            gaowen.push(parseInt(this.weatherData[i].highest_temperature));
            sum_gaowen += gaowen[i];
          }
          _this.gaowen_mean = sum_gaowen / this.weatherData.length;
          // 四舍五入
          _this.gaowen_mean = _this.gaowen_mean.toFixed(2);
          //极端高温
          _this.max_gaowen = Math.max(...gaowen);

          // 平均低温
          var diwen = [];
          var sum_diwen = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            diwen.push(parseInt(this.weatherData[i].minimum_temperature));
            sum_diwen += diwen[i];
          }
          _this.diwen_mean = sum_diwen / this.weatherData.length;
          // 四舍五入
          _this.diwen_mean = _this.diwen_mean.toFixed(2);
          //极端低温
          _this.min_diwen = Math.min(...diwen);

          //累计降水量
          var jiangshuiliang = [];
          var sum_jiangshuiliang = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            jiangshuiliang.push(parseInt(this.weatherData[i].precipitations));
            sum_jiangshuiliang += jiangshuiliang[i];
          }
          _this.jiangshuiliang_mean = sum_jiangshuiliang 
          // 四舍五入
          _this.jiangshuiliang_mean = _this.jiangshuiliang_mean.toFixed(2);

          //平均日照时长
          var rizhao = [];
          var sum_rizhao = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            rizhao.push(parseInt(this.weatherData[i].sunlight_time));
            sum_rizhao += rizhao[i];
          }
          //console.log(this.weatherData)
          _this.rizhao_mean = sum_rizhao / this.weatherData.length;
          // 四舍五入
          _this.rizhao_mean = _this.rizhao_mean.toFixed(1);
          //平均PM2.5值
          var pm = [];
          var sum_pm = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            pm.push(parseInt(this.weatherData[i].pm));
            sum_pm += pm[i];
          }
          _this.pm_mean = sum_pm / this.weatherData.length;
          // 四舍五入
          _this.pm_mean = _this.pm_mean.toFixed(1);

          //平均湿度
          var shidu = [];
          var sum_shidu = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            shidu.push(parseInt(this.weatherData[i].humidity));
            sum_shidu += shidu[i];
          }
          _this.shidu_mean = sum_shidu / this.weatherData.length;
          // 四舍五入
          _this.shidu_mean = _this.shidu_mean.toFixed(1);

          //有效积温
          var jiwen = [];
          var sum_jiwen = 0;
          for (let i = 0; i < this.weatherData.length; i++) {
            if(parseInt(this.weatherData[i].realtime_temperature - 10)<0) continue
              jiwen.push(parseInt(this.weatherData[i].realtime_temperature - 10));
              //sum_jiwen += jiwen[i];
          }
          //console.log(jiwen)
          if (jiwen.length==0) {
            sum_jiwen = 0
          } else {
            sum_jiwen = eval(jiwen.join("+"));
          }
          _this.effective_temperature = sum_jiwen.toFixed(2);
          // for (i = 0; i < this.weatherData.length; i++) {
          //   //console.log(this.weatherData[i].realtime_temperature-10)
          //     if (parseInt(this.weatherData[i].realtime_temperature - 10)>=0) {
          //       jiwen.push(parseInt(this.weatherData[i].realtime_temperature - 10));
          //       sum_jiwen = eval(jiwen.join("+"));
          //       _this.effective_temperature = sum_jiwen.toFixed(4);
          //   } else {
              
          //     console.log('有效积温为0')
          //   }
      
          // }
         
          // 警告
          if (_this.effective_temperature > 3000) {
            this.$notify({
              title: "警告",
              message: "有效积温大于3000℃",
              type: "warning",
              offset: 100,
            });
          }

          //活动积温
          var huodong_jiwen = [];
          var sum_huodongjiwen = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            huodong_jiwen.push(
              parseInt(this.weatherData[i].realtime_temperature)
            );
            sum_huodongjiwen += huodong_jiwen[i];
          }
          _this.huodong_temperature = sum_huodongjiwen.toFixed(1);
        })
        .catch((err) => {
          return this.$message.error("查询数据失败！");
        });
    },

    //日期前的下拉框
    getSelects() {
      const _this = this;
      axios({
        url: "/getselects",
        method: "get",
      })
        .then((res) => {
          var optionDatas = [];
          optionDatas = res.data;
          //城市
          var cityDatas = [];
          //console.log(optionData);
          for (var i = 0; i < optionDatas.length; ++i) {
            if (optionDatas[i].option === "城市") {
              cityDatas.push({
                label: optionDatas[i].list,
                value: optionDatas[i].list,
              });
            }
          }
          _this.citiess = cityDatas;
        })
        .catch((err) => {
          return this.$message.error("查询数据失败！");
        });
    },

    //根据日期范围查询
    datesearchInfo() {
      const _this = this;
      axios({
        url: "/datesearch",
        method: "post",
        params: {
          cityTypes: this.cityTypes,
          daterange1: this.daterange[0],
          daterange2: this.daterange[1],
        },
      })
        .then((res) => {
          // 总体数据
          _this.weatherData = res.data;
          // 平均高温
          var gaowen = [];
          var sum_gaowen = 0;
          for (var i = 0; i < this.weatherData.length; i++) {
            gaowen.push(parseInt(this.weatherData[i].highest_temperature));
            sum_gaowen += gaowen[i];
          }
          _this.gaowen_mean = sum_gaowen / this.weatherData.length;
          // 四舍五入
          _this.gaowen_mean = _this.gaowen_mean.toFixed(2);
          //极端高温
          _this.max_gaowen = Math.max(...gaowen);

          // 平均低温
          var diwen = [];
          var sum_diwen = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            diwen.push(parseInt(this.weatherData[i].minimum_temperature));
            sum_diwen += diwen[i];
          }
          _this.diwen_mean = sum_diwen / this.weatherData.length;
          // 四舍五入
          _this.diwen_mean = _this.diwen_mean.toFixed(2);
          //极端低温
          _this.min_diwen = Math.min(...diwen);

          //累计降水量
          var jiangshuiliang = [];
          var sum_jiangshuiliang = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            jiangshuiliang.push(parseInt(this.weatherData[i].precipitations));
            sum_jiangshuiliang += jiangshuiliang[i];
          }
          _this.jiangshuiliang_mean = sum_jiangshuiliang 
          // 四舍五入
          _this.jiangshuiliang_mean = _this.jiangshuiliang_mean.toFixed(2);

          //平均日照时长
          var rizhao = [];
          var sum_rizhao = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            rizhao.push(parseInt(this.weatherData[i].sunlight_time));
            sum_rizhao += rizhao[i];
          }
          _this.rizhao_mean = sum_rizhao / this.weatherData.length;
          // 四舍五入
          _this.rizhao_mean = _this.rizhao_mean.toFixed(1);
          //平均PM2.5值
          var pm = [];
          var sum_pm = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            pm.push(parseInt(this.weatherData[i].pm));
            sum_pm += pm[i];
          }
          _this.pm_mean = sum_pm / this.weatherData.length;
          // 四舍五入
          _this.pm_mean = _this.pm_mean.toFixed(1);
          //平均湿度
          var shidu = [];
          var sum_shidu = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            shidu.push(parseInt(this.weatherData[i].humidity));
            sum_shidu += shidu[i];
          }
          _this.shidu_mean = sum_shidu / this.weatherData.length;
          // 四舍五入
          _this.shidu_mean = _this.shidu_mean.toFixed(1);

          //有效积温
          var jiwen = [];
          var sum_jiwen = 0;
          for (let i = 0; i < this.weatherData.length; i++) {
            if(parseInt(this.weatherData[i].realtime_temperature - 10)<0) continue
              jiwen.push(parseInt(this.weatherData[i].realtime_temperature - 10));
              //sum_jiwen += jiwen[i];
          }
          //console.log(jiwen)
          if (jiwen.length==0) {
            sum_jiwen = 0
          } else {
            sum_jiwen = eval(jiwen.join("+"));
          }
          _this.effective_temperature = sum_jiwen.toFixed(2);

          //活动积温
          var huodong_jiwen = [];
          var sum_huodongjiwen = 0;
          for (i = 0; i < this.weatherData.length; i++) {
            huodong_jiwen.push(
              parseInt(this.weatherData[i].realtime_temperature)
            );
            sum_huodongjiwen += huodong_jiwen[i];
          }
          _this.huodong_temperature = sum_huodongjiwen.toFixed(1);
        })
        .catch((err) => {
          return this.$message.error("查询数据失败！");
        });
    },

    //气温走势图
    echart1() {
      axios({
        url: "/echart1",
        method: "post",
        params: {
          cityType: this.cityType,
          yearType: this.yearType,
          monthType: this.monthType,
        },
      }).then((res) => {
        var echart1data = res.data;
        //console.log(echart1data);
        if (echart1data == "") {
          this.$message({
            message: "该地区暂无数据上报，请重新选择",
            type: "warning",
          });
          return;
        }
        this.charts = echarts.init(document.getElementById("echart1"));
        this.charts.setOption({
          title: {
            text: "气温走势图",
          },
          tooltip: {
            trigger: "axis",
          },
          legend: {
            data: ["日平均气温", "最高温度", "最低温度"],
          },
          grid: {
            left: "3%",
            right: "8%",
            bottom: "33%",
            containLabel: true,
          },
          toolbox: {
            feature: {
              saveAsImage: {},
              magicType: { type: ["line", "bar"] },
              restore: {},
            },
          },
          xAxis: {
            type: "category",
            boundaryGap: true,
            axisLabel: {
              interval: 0,
              formatter: "{value} 号",
            },
            data: [
              "1",
              "2",
              "3",
              "4",
              "5",
              "6",
              "7",
              "8",
              "9",
              "10",
              "11",
              "12",
              "13",
              "14",
              "15",
              "16",
              "17",
              "18",
              "19",
              "20",
              "21",
              "22",
              "23",
              "24",
              "25",
              "26",
              "27",
              "28",
              "29",
              "30",
              "31",
            ],
          },
          yAxis: {
            type: "value",
            axisLabel: {
              formatter: "{value} °C",
            },
          },
          series: [
            {
              name: "日平均气温",
              type: "line",
              data: echart1data[0],
              markPoint: {
                data: [
                  { type: "max", name: "最大值" },
                  { type: "min", name: "最小值" },
                ],
              },
            },

            {
              name: "最高温度",
              type: "line",
              data: echart1data[1],
              markPoint: {
                data: [
                  { type: "max", name: "最大值" },
                  { type: "min", name: "最小值" },
                ],
              },
            },
            {
              name: "最低温度",
              type: "line",
              data: echart1data[2],
              markPoint: {
                data: [
                  { type: "max", name: "最大值" },
                  { type: "min", name: "最小值" },
                ],
              },
            },
          ],
        });
      });
    },

    //累计降雨量及日照时数图
    echart2() {
      axios({
        url: "/echart2",
        method: "post",
        params: {
          cityType: this.cityType,
          yearType: this.yearType,
          monthType: this.monthType,
        },
      }).then((res) => {
        var echart2data = res.data;
        //console.log(echart2data);
        if (echart2data == "") {
          this.$message({
            message: "该地区暂无数据上报，请重新选择",
            type: "warning",
          });
          return;
        }
        this.chartss = echarts.init(document.getElementById("echart2"));
        this.chartss.setOption({
          title: {
            text: "累计降雨量及日照时数图",
          },
          tooltip: {
            trigger: "axis",
          },
          legend: {
            data: ["累计降雨量", "日照时长"],
          },
          grid: {
            left: "3%",
            right: "8%",
            bottom: "33%",
            containLabel: true,
          },
          toolbox: {
            feature: {
              saveAsImage: {},
              magicType: { type: ["line", "bar"] },
              restore: {},
            },
          },
          xAxis: {
            type: "category",
            boundaryGap: true,
            data: [
              "1",
              "2",
              "3",
              "4",
              "5",
              "6",
              "7",
              "8",
              "9",
              "10",
              "11",
              "12",
              "13",
              "14",
              "15",
              "16",
              "17",
              "18",
              "19",
              "20",
              "21",
              "22",
              "23",
              "24",
              "25",
              "26",
              "27",
              "28",
              "29",
              "30",
              "31",
            ],
            axisLabel: {
              interval: 0,
              formatter: "{value} 号",
            },
          },
          yAxis: [
            {
              type: "value",
              name: "累计降水量",
              min: 0,
              max: 480,
              interval: 40,
              axisLabel: {
                formatter: "{value} mm",
              },
            },
            {
              type: "value",
              name: "日照时长",
              min: 0,
              max: 24,
              interval: 2,
              axisLabel: {
                formatter: "{value} 小时",
              },
            },
          ],
          series: [
            {
              name: "累计降雨量",
              data: echart2data[1],
              type: "bar",
              markPoint: {
                data: [
                  { type: "max", name: "最大值" },
                  { type: "min", name: "最小值" },
                ],
              },
            },
            {
              name: "日照时长",
              data: echart2data[0],
              type: "line",
              yAxisIndex: 1,
              markPoint: {
                data: [
                  { type: "max", name: "最大值" },
                  { type: "min", name: "最小值" },
                ],
              },
            },
          ],
        });
      });
    },
    //近三年天气数据总体分析图
    echart3() {
      const _this = this;
      // console.log(this.cityTypes);
      // console.log(this.daterange[0]);
      // console.log(this.daterange[1]);
      //当前选择日期的年月日
      var select_data1 = _this.daterange[0].split("-");
      var select_year1 = select_data1[0];
      _this.select_year1 = select_year1;
      var select_month1 = select_data1[1];
      var select_day1 = select_data1[2];

      var select_data2 = _this.daterange[1].split("-");
      var select_year2 = select_data2[0];
      var select_month2 = select_data2[1];
      var select_day2 = select_data2[2];
      //拼接上一年的年月日
      var last_data1 =
        String(parseInt(select_year1) - 1) +
        "-" +
        select_month1 +
        "-" +
        select_day1;
      var last_data2 =
        String(parseInt(select_year2) - 1) +
        "-" +
        select_month2 +
        "-" +
        select_day2;
      //拼接上上一年的年月日
      var last_data3 =
        String(parseInt(select_year1) - 2) +
        "-" +
        select_month1 +
        "-" +
        select_day1;
      var last_data4 =
        String(parseInt(select_year2) - 2) +
        "-" +
        select_month2 +
        "-" +
        select_day2;
      //拼接历年的月日
      var alldata1 = select_month1 + "-" + select_day1;
      var alldata2 = select_month2 + "-" + select_day2;

      console.log(last_data1);
      console.log(last_data2);
      console.log(last_data3);
      console.log(last_data4);
      console.log(alldata1);
      console.log(alldata2);

      axios({
        url: "/echart3_all",
        method: "post",
        params: {
          cityTypes: this.cityTypes,
          //本年
          daterange1: this.daterange[0],
          daterange2: this.daterange[1],
          //去年
          daterange3: last_data1,
          daterange4: last_data2,
          //前年
          daterange5: last_data3,
          daterange6: last_data4,
        },
      }).then((res) => {
        console.log("************");
        console.log(res.data);
        this.charts = echarts.init(document.getElementById("echart3"));
        // var 今年 = select_year1
        let dataArr = [
          {
            当年: res.data[0],
            上一年: res.data[8],
            前年: res.data[16],
            近三年平均: res.data[24],
            Title: "活动积温（℃）",
          },
          // {
          //   当年: res.data[1],
          //   上一年: res.data[9],
          //   前年: res.data[17],
          //   近三年平均: res.data[25],
          //   Title: "活动积温（℃）",
          // },
          {
            当年: res.data[1],
            上一年: res.data[9],
            前年: res.data[17],
            近三年平均: res.data[25],
            Title: "有效积温（℃）",
          },
          {
            当年: res.data[2],
            上一年: res.data[10],
            前年: res.data[18],
            近三年平均: res.data[26],
            Title: "总降雨量（mm）",
          },
          {
            当年: res.data[3],
            上一年: res.data[11],
            前年: res.data[19],
            近三年平均: res.data[27],
            Title: "降雨日数（d）",
          },
          {
            当年: res.data[4],
            上一年: res.data[12],
            前年: res.data[20],
            近三年平均: res.data[28],
            Title: "总日照时数（h）",
          },
          {
            当年: res.data[5],
            上一年: res.data[13],
            前年: res.data[21],
            近三年平均: res.data[29],
            Title: "晴好天气（d）",
          },
          {
            当年: res.data[6],
            上一年: res.data[14],
            前年: res.data[22],
            近三年平均: res.data[30],
            Title: "平均湿度（%）",
          },
          // {
          //   今年: 24,
          //   去年: 77,
          //   前年: 57,
          //   近三年平均: 85,
          //   Title: "平均PM2.5值",
          // },
        ];
        // 取表头
        let tableHead = [];
        for (var e = 0; e < dataArr.length; e++) {
          tableHead.push(dataArr[e].Title);
        }
        let totalArr = [];
        // 左侧标题
        var letftTitle = ["当年", "上一年", "前年", "近三年平均"];
        function SeriesData() {
          let arr = [];
          for (var i = 0; i < letftTitle.length; i++) {
            let arr2 = [];
            for (var e = 0; e < tableHead.length; e++) {
              let obj = dataArr.find((x) => x.Title == tableHead[e]);
              if (Object.keys(obj).find((x) => x == letftTitle[i])) {
                let a = obj[Object.keys(obj).find((x) => x == letftTitle[i])];
                arr2.push(a);
              }
            }
            // 将数据汇总
            totalArr.push(arr2);
            let obj = {
              name: letftTitle[i],
              type: "bar",
              label: {
                show: true,
                position: "top",
              },
              yAxisIndex: 0,
              data: arr2,
            };
            arr.push(obj);
          }
          return arr;
        }
        function fucIcon() {
          let obj = {};
          for (var i = 0; i < letftTitle.length; i++) {
            obj[i] = { fontSize: 20, color: color[i] };
          }
          return obj;
        }
        // 左侧标题显示
        function ForName(NameArr) {
          let TitleName = "";
          for (var i = 0; i < NameArr.length; i++) {
            TitleName += "{" + i + "|●}" + NameArr[i] + "\n";
          }
          return TitleName;
        }
        // 绘制表格线
        function getTableLine(num) {
          var list = [];
          var bottom = letftTitle.length * 30 + 65; // 可根据表格行数高度动态调整
          var height = 30; // 表格线行高
          // 循环绘制表格
          for (var i = 0; i < num; i++) {
            list.push({
              type: "line",
              bottom: bottom - i * height,
              right: 80,
              style: {
                fill: "#333",
              },
              // 线条
              shape: {
                x1: 0,
                y1: 0,
                x2: 2000,
                y2: 0,
              },
            });
          }
          return list;
        }
        // 绘制表格线行数
        var lineList = getTableLine(letftTitle.length + 1);
        // 绘制表格数据
        function DrawTable(value, index) {
          let str = "";
          str += "{table|" + value + "}\n{table|";
          for (let i = 0; i < totalArr.length; i++) {
            str += totalArr[i][index] + "}\n{table|";
          }
          str += "}";
          return str;
        }
        let color = [
          "#5470c6",
          "#fac858",
          "#73c0de",
          "#ee6666",
          "#3ba272",
          "#fc8452",
          "#9a60b4",
          "#ea7ccc",
        ];
        this.charts.setOption({
          // 颜色配置
          color: color,
          legend: {
            orient: "horizontal",
            top: 10,
            data: letftTitle,
          },
          // 左侧标题配置
          title: [
            {
              text: ForName(letftTitle),
              bottom: 90 - letftTitle.length,
              left: 0,
              textStyle: {
                lineHeight: 30,
                fontSize: 13,
                fontWeight: "normal",
                formatter: function (value) {
                  return "{table|" + value + "}";
                },
                rich: fucIcon(),
              },
            },
          ],
          // 表格边距配置
          grid: {
            bottom: letftTitle.length * 30 + 100, // 可根据表格行数动态调整高度
            left: 100,
            right: 80,
            top: 50,
          },
          toolbox: {
            show: true,
            feature: {
              saveAsImage: {},
            },
          },
          dataZoom: {
            show: true,
            realtime: true,
            start: 0,
            end: 50,
          },
          xAxis: [
            {
              type: "category",
              boundaryGap: true,
              data: tableHead,
              axisTick: {
                length: letftTitle.length * 30 + 35,
              },
              axisLabel: {
                formatter: function (value, index) {
                  var indexNum = 0;
                  for (var i = 0; i < tableHead.length; i++) {
                    if (value == tableHead[i]) {
                      indexNum = i;
                    }
                  }
                  return DrawTable(value, indexNum);
                },
                rich: {
                  table: {
                    height: 30, //表格内数据行高
                    lineHeight: 30,
                    align: "center",
                    verticalAlign: "bottom",
                  },
                },
              },
            },
          ],
          yAxis: [
            {
              type: "value",
              scale: true,
              minInterval: 1,
              splitLine: {
                show: false,
              },
              min: function (v) {
                return Math.max(v.min - 10, 0);
              },
            },
          ],
          series: SeriesData(),
          graphic: lineList,
        });
      });
    },
    //积温走势图
    echart4() {
      axios({
        url: "/echart1",
        method: "post",
        params: {
          cityType: this.cityType,
          yearType: this.yearType,
          monthType: this.monthType,
        },
      }).then((res) => {
        var echart1data = res.data;
        console.log(echart1data);
        //console.log((parseInt(echart1data[0][2])));
        var day_youxiaojiwen = [];
        for (let index = 0; index < echart1data[0].length; index++) {
          const element = echart1data[0][index];
          day_youxiaojiwen.push(element - 10);
        }
        console.log(day_youxiaojiwen);
        if (echart1data == "") {
          this.$message({
            message: "该地区暂无数据上报，请重新选择",
            type: "warning",
          });
          return;
        }
        this.charts = echarts.init(document.getElementById("echart4"));
        this.charts.setOption({
          title: {
            text: "积温走势图",
          },
          tooltip: {
            trigger: "axis",
          },
          legend: {
            data: ["日活动积温", "日有效积温"],
          },
          grid: {
            left: "3%",
            right: "8%",
            bottom: "33%",
            containLabel: true,
          },
          toolbox: {
            feature: {
              saveAsImage: {},
              magicType: { type: ["line", "bar"] },
              restore: {},
            },
          },
          xAxis: {
            type: "category",
            boundaryGap: true,
            axisLabel: {
              interval: 0,
              formatter: "{value} 号",
            },
            data: [
              "1",
              "2",
              "3",
              "4",
              "5",
              "6",
              "7",
              "8",
              "9",
              "10",
              "11",
              "12",
              "13",
              "14",
              "15",
              "16",
              "17",
              "18",
              "19",
              "20",
              "21",
              "22",
              "23",
              "24",
              "25",
              "26",
              "27",
              "28",
              "29",
              "30",
              "31",
            ],
          },
          yAxis: {
            type: "value",
            axisLabel: {
              formatter: "{value} °C",
            },
          },
          series: [
            {
              name: "日活动积温",
              type: "line",
              data: echart1data[0],
              markPoint: {
                data: [
                  { type: "max", name: "最大值" },
                  { type: "min", name: "最小值" },
                ],
              },
            },

            {
              name: "日有效积温",
              type: "line",
              data: day_youxiaojiwen,
              markPoint: {
                data: [
                  { type: "max", name: "最大值" },
                  { type: "min", name: "最小值" },
                ],
              },
            },
          ],
        });
      });
    },
    //地区积温对比
    echart5() {
      axios({
        url: "/echart5",
        method: "post",
        params: {
          daterange1: this.daterange[0],
          daterange2: this.daterange[1],
        },
      }).then((res) => {
        var echart5data = res.data;
        console.log(echart5data.quansheng_huodongjiwen);
        

        this.charts = echarts.init(document.getElementById("echart5"));
        this.charts.setOption({
          tooltip: {
            trigger: "axis",
            axisPointer: {
              type: "cross",
              crossStyle: {
                color: "#999",
              },
            },
          },
          toolbox: {
            feature: {
              dataView: { show: true, readOnly: false },
              magicType: { show: true, type: ["line", "bar"] },
              restore: { show: true },
              saveAsImage: { show: true },
            },
          },
          legend: {
            data: ["活动积温", "有效积温"],
            top:"20px"
          },
          xAxis: [
            {
              type: "category",
              data: ["全省层面", "江淮地区", "沿江地区", "沿淮地区"],
              axisPointer: {
                type: "shadow",
              },
            },
          ],
          yAxis: [
            {
              type: "value",
              name: "温度",
              min: 0,
              axisLabel: {
                formatter: "{value} ℃",
              },
            },
          ],
          series: [
            {
              name: "活动积温",
              type: "bar",
              data: [echart5data.quansheng_huodongjiwen, echart5data.jianghuai_huodongjiwen, echart5data.yanjiang_huodongjiwen, echart5data.yanhuai_huodongjiwen],
              itemStyle: {        //上方显示数值
                normal: {
                    label: {
                        show: false, //开启显示
                        position: 'top', //在上方显示
                        textStyle: { //数值样式
                            color: 'red',
                            fontSize: 16
                        }
                    }
                }
            }
            },
            {
              name: "有效积温",
              type: "bar",
              data: [echart5data.quansheng_youxiaojiwen, echart5data.jianghuai_youxiaojiwen, echart5data.yanjiang_youxiaojiwen, echart5data.yanhuai_youxiaojiwen],
              itemStyle: {        //上方显示数值
                normal: {
                    label: {
                        show: false, //开启显示
                        position: 'top', //在上方显示
                        textStyle: { //数值样式
                            color: 'red',
                            fontSize: 16
                        }
                    }
                }
            }
            },
            
          ],
        });
      });
    },

    //分页
    handleSizeChange: function (size) {
      this.pagesize = size;
      //console.log(this.pagesize)  //每页下拉显示数据
    },
    handleCurrentChange: function (currentPage) {
      this.currentPage = currentPage;
      //console.log(this.currentPage)  //点击第几页
    },
  },
  mounted() {
    this.echart1();
    this.echart2();
    this.echart3();
    this.echart4();
    this.echart5();
  },
};
</script>

<style lang="less" scoped>
.qixiang_head {
  margin-bottom: 20px;
}
.tianqichajian_box {
  position: relative;
  top: 20px;
}

.chaxun {
  position: relative;
  left: 10px;
}
.history_weather_show {
  position: relative;
  top: 40px;
}
.zhedie {
  //position: relative;
  margin-top: 100px;
}
.date_select {
  position: relative;
  top: 20px;
}
.chengshixuanze {
  position: relative;
  right: 10px;
}
// .date_range {
//   position: relative;
//   width:453px ;
// }
.el-date-editor--daterange.el-input,
.el-date-editor--daterange.el-input__inner,
.el-date-editor--timerange.el-input,
.el-date-editor--timerange.el-input__inner {
  width: 453px;
  left: 9px;
}
.datechaxun {
  position: relative;
  left: 21px;
}
.echart1 {
  position: relative;
  top: 10px;
}
#echart1 {
  top: 30px;
}
#echart2 {
  top: 30px;
}
.echart2 {
  position: relative;
  top: 10px;
}
.pingjun_weather_show {
  position: relative;
  top: 30px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.echartAll_fenxi {
  margin-bottom: 20px;
}
.svg_echarts {
  font-weight: bold;
  font-size: 30px;
}
.diqujiwenduibi {
  font-weight: bold;
  font-size: 20px;
}
</style>


<style>
/*有些不能在scoped设置*/
.el-table--striped
  .el-table__body
  tr.el-table__row--striped.el-table__row--striped.el-table__row--striped
  td {
  background-color: #c0bebe6e; /*替换为你需要的颜色，觉得优先级不够就加!important*/
}
/* 定义最高温度一列的颜色 */
.specialColor {
  color: red;
}

/* 横行样式 */
.el-table--border td {
  border-right: 1px dashed rgb(0, 0, 0);
}
/* 纵行样式 */
.el-table td,
.el-table th.is-leaf {
  border-bottom: 1px solid rgb(0, 0, 0);
}
</style>

